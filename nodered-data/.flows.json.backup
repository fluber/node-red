[
    {
        "id": "c88a71c9.688818",
        "type": "tab",
        "label": "Modbus Simple Servers",
        "disabled": false,
        "info": "simple flows to show what you \ncan do with the package\n\nthink about organization of reads and \nwrites and try to simplify these flows"
    },
    {
        "id": "caa303f9c44233ae",
        "type": "tab",
        "label": "機台磨損",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "3d656d11d633d8e4",
        "type": "tab",
        "label": "產能指標",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "cad31e87669e9eae",
        "type": "tab",
        "label": "HMI",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "0285aea373c5d1c1",
        "type": "tab",
        "label": "OpcUa",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "110bfa76dcc30adb",
        "type": "tab",
        "label": "Line Chart",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "8bbb7658dea8df3b",
        "type": "tab",
        "label": "Opencart",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e00888440fdbb773",
        "type": "tab",
        "label": "OpenCart-機台磨損",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "bcd1d87a6c8855b3",
        "type": "tab",
        "label": "Opencart-MES",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a9050e37.a6f618",
        "type": "modbus-client",
        "name": "Modbus Flex Server",
        "clienttype": "tcp",
        "bufferCommands": true,
        "stateLogEnabled": false,
        "queueLogEnabled": false,
        "tcpHost": "127.0.0.1",
        "tcpPort": "15502",
        "tcpType": "DEFAULT",
        "serialPort": "/dev/ttyUSB",
        "serialType": "RTU-BUFFERD",
        "serialBaudrate": "9600",
        "serialDatabits": "8",
        "serialStopbits": "1",
        "serialParity": "none",
        "serialConnectionDelay": "100",
        "unit_id": 1,
        "commandDelay": 1,
        "clientTimeout": 1000,
        "reconnectOnTimeout": true,
        "reconnectTimeout": 2000,
        "parallelUnitIdsAllowed": true
    },
    {
        "id": "352955bb.be6e6a",
        "type": "modbus-client",
        "name": "Modbus Server",
        "clienttype": "tcp",
        "bufferCommands": true,
        "stateLogEnabled": false,
        "queueLogEnabled": false,
        "tcpHost": "127.0.0.1",
        "tcpPort": "14502",
        "tcpType": "DEFAULT",
        "serialPort": "/dev/ttyUSB",
        "serialType": "RTU-BUFFERD",
        "serialBaudrate": "9600",
        "serialDatabits": "8",
        "serialStopbits": "1",
        "serialParity": "none",
        "serialConnectionDelay": "100",
        "unit_id": "1",
        "commandDelay": "1",
        "clientTimeout": "1000",
        "reconnectOnTimeout": true,
        "reconnectTimeout": "2000",
        "parallelUnitIdsAllowed": true
    },
    {
        "id": "d4da02ed.6574d8",
        "type": "modbus-client",
        "name": "",
        "clienttype": "tcp",
        "bufferCommands": true,
        "stateLogEnabled": false,
        "queueLogEnabled": false,
        "failureLogEnabled": false,
        "tcpHost": "127.0.0.1",
        "tcpPort": "10502",
        "tcpType": "DEFAULT",
        "serialPort": "/dev/ttyUSB",
        "serialType": "RTU-BUFFERD",
        "serialBaudrate": "9600",
        "serialDatabits": "8",
        "serialStopbits": "1",
        "serialParity": "none",
        "serialConnectionDelay": "100",
        "serialAsciiResponseStartDelimiter": "0x3A",
        "unit_id": 1,
        "commandDelay": 1,
        "clientTimeout": 1000,
        "reconnectOnTimeout": true,
        "reconnectTimeout": 2000,
        "parallelUnitIdsAllowed": true
    },
    {
        "id": "ec18ac32.a8ef5",
        "type": "modbus-io-config",
        "name": "Device",
        "path": "/Users/Shared/modbus/device.json",
        "format": "utf8",
        "addressOffset": ""
    },
    {
        "id": "03fe0414822dc4be",
        "type": "ui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "value": "#0094CE",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#0094CE",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#1bbfff",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#0094ce",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "3d9cccf32ce266dd",
        "type": "ui_tab",
        "name": "機台磨損",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "21ef878ae89415fa",
        "type": "ui_tab",
        "name": "產能指標",
        "icon": "dashboard",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "f4da67d187c663f4",
        "type": "ui_tab",
        "name": "HMI",
        "icon": "dashboard",
        "order": 3,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "6ddb8fdedd276bdd",
        "type": "ui_tab",
        "name": "OpcUA",
        "icon": "dashboard",
        "order": 5,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "952176f54ca8fc9d",
        "type": "ui_tab",
        "name": "Line Chart",
        "icon": "dashboard",
        "order": 5,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "2030999dbeb860bd",
        "type": "ui_group",
        "name": "Modbus",
        "tab": "3d9cccf32ce266dd",
        "order": 1,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "726294de1fd9b442",
        "type": "ui_group",
        "name": "GUI",
        "tab": "3d9cccf32ce266dd",
        "order": 2,
        "disp": true,
        "width": "7",
        "collapse": false,
        "className": ""
    },
    {
        "id": "0fbbf5c841d4a51c",
        "type": "ui_group",
        "name": "Modbus",
        "tab": "21ef878ae89415fa",
        "order": 1,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "3dac47f8a838e21a",
        "type": "ui_group",
        "name": "GUI",
        "tab": "21ef878ae89415fa",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "d015adead53f3bd9",
        "type": "ui_group",
        "name": "Modbus",
        "tab": "f4da67d187c663f4",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "68b1d2b81d491e27",
        "type": "ui_group",
        "name": "GUI",
        "tab": "f4da67d187c663f4",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "e258692e34946cd8",
        "type": "ui_group",
        "name": "OpcUa",
        "tab": "6ddb8fdedd276bdd",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "17603838db4ae1df",
        "type": "ui_group",
        "name": "GUI",
        "tab": "6ddb8fdedd276bdd",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "fe81f6e255688ce6",
        "type": "ui_group",
        "name": "GUI",
        "tab": "952176f54ca8fc9d",
        "order": 1,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "79823333b575fadf",
        "type": "ui_spacer",
        "z": "caa303f9c44233ae",
        "name": "spacer",
        "group": "34e53b73827b6802",
        "order": 2,
        "width": 1,
        "height": 1
    },
    {
        "id": "68902d06ee8f119a",
        "type": "ui_spacer",
        "z": "caa303f9c44233ae",
        "name": "spacer",
        "group": "2030999dbeb860bd",
        "order": 4,
        "width": 2,
        "height": 1
    },
    {
        "id": "3308df87214e5380",
        "type": "ui_spacer",
        "z": "caa303f9c44233ae",
        "name": "spacer",
        "group": "2030999dbeb860bd",
        "order": 8,
        "width": 2,
        "height": 1
    },
    {
        "id": "ca7016cb6c6f81d0",
        "type": "ui_spacer",
        "z": "caa303f9c44233ae",
        "name": "spacer",
        "group": "2030999dbeb860bd",
        "order": 9,
        "width": 6,
        "height": 1
    },
    {
        "id": "b91f17278550acf0",
        "type": "ui_spacer",
        "z": "caa303f9c44233ae",
        "name": "spacer",
        "group": "2030999dbeb860bd",
        "order": 11,
        "width": 2,
        "height": 1
    },
    {
        "id": "8f4922f896b2dd06",
        "type": "ui_spacer",
        "z": "caa303f9c44233ae",
        "name": "spacer",
        "group": "2030999dbeb860bd",
        "order": 13,
        "width": 4,
        "height": 1
    },
    {
        "id": "c5818575a4162fd4",
        "type": "ui_spacer",
        "z": "caa303f9c44233ae",
        "name": "spacer",
        "group": "2030999dbeb860bd",
        "order": 15,
        "width": 4,
        "height": 1
    },
    {
        "id": "916445a02ddbe8b2",
        "type": "ui_spacer",
        "z": "caa303f9c44233ae",
        "name": "spacer",
        "group": "2030999dbeb860bd",
        "order": 17,
        "width": 4,
        "height": 1
    },
    {
        "id": "47bb3fe157597319",
        "type": "ui_spacer",
        "z": "caa303f9c44233ae",
        "name": "spacer",
        "group": "2030999dbeb860bd",
        "order": 19,
        "width": 4,
        "height": 1
    },
    {
        "id": "8ef2122c0fa984ac",
        "type": "ui_spacer",
        "z": "caa303f9c44233ae",
        "name": "spacer",
        "group": "726294de1fd9b442",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "3bfffae577109b88",
        "type": "ui_spacer",
        "z": "caa303f9c44233ae",
        "name": "spacer",
        "group": "726294de1fd9b442",
        "order": 3,
        "width": 2,
        "height": 1
    },
    {
        "id": "d864fc1aad6fc0ee",
        "type": "ui_spacer",
        "z": "caa303f9c44233ae",
        "name": "spacer",
        "group": "726294de1fd9b442",
        "order": 4,
        "width": 1,
        "height": 1
    },
    {
        "id": "70dea6471dd99d4f",
        "type": "ui_spacer",
        "z": "caa303f9c44233ae",
        "name": "spacer",
        "group": "726294de1fd9b442",
        "order": 7,
        "width": 1,
        "height": 1
    },
    {
        "id": "5cbb3ef9122adf88",
        "type": "ui_spacer",
        "z": "caa303f9c44233ae",
        "name": "spacer",
        "group": "726294de1fd9b442",
        "order": 8,
        "width": 1,
        "height": 1
    },
    {
        "id": "29a4ba61b043ac54",
        "type": "ui_spacer",
        "z": "caa303f9c44233ae",
        "name": "spacer",
        "group": "726294de1fd9b442",
        "order": 10,
        "width": 1,
        "height": 1
    },
    {
        "id": "869bead8b526b190",
        "type": "ui_spacer",
        "z": "caa303f9c44233ae",
        "name": "spacer",
        "group": "726294de1fd9b442",
        "order": 11,
        "width": 1,
        "height": 1
    },
    {
        "id": "173862e89381c24b",
        "type": "ui_spacer",
        "z": "caa303f9c44233ae",
        "name": "spacer",
        "group": "726294de1fd9b442",
        "order": 12,
        "width": 1,
        "height": 1
    },
    {
        "id": "e5dc428574cd8cdf",
        "type": "ui_spacer",
        "z": "caa303f9c44233ae",
        "name": "spacer",
        "group": "726294de1fd9b442",
        "order": 13,
        "width": 1,
        "height": 1
    },
    {
        "id": "38dbde7d79940084",
        "type": "ui_spacer",
        "z": "caa303f9c44233ae",
        "name": "spacer",
        "group": "726294de1fd9b442",
        "order": 14,
        "width": 1,
        "height": 1
    },
    {
        "id": "7590f3488dee9e2a",
        "type": "ui_spacer",
        "z": "caa303f9c44233ae",
        "name": "spacer",
        "group": "726294de1fd9b442",
        "order": 15,
        "width": 1,
        "height": 1
    },
    {
        "id": "5753a60eaa60f068",
        "type": "ui_spacer",
        "z": "caa303f9c44233ae",
        "name": "spacer",
        "group": "726294de1fd9b442",
        "order": 16,
        "width": 1,
        "height": 1
    },
    {
        "id": "773cc47918ec45bc",
        "type": "ui_spacer",
        "z": "caa303f9c44233ae",
        "name": "spacer",
        "group": "726294de1fd9b442",
        "order": 17,
        "width": 1,
        "height": 1
    },
    {
        "id": "d6377e0888a95022",
        "type": "ui_spacer",
        "z": "caa303f9c44233ae",
        "name": "spacer",
        "group": "726294de1fd9b442",
        "order": 18,
        "width": 1,
        "height": 1
    },
    {
        "id": "37600eb5c2393bf1",
        "type": "ui_spacer",
        "z": "caa303f9c44233ae",
        "name": "spacer",
        "group": "726294de1fd9b442",
        "order": 19,
        "width": 1,
        "height": 1
    },
    {
        "id": "bbb104e33f136e3c",
        "type": "ui_spacer",
        "z": "caa303f9c44233ae",
        "name": "spacer",
        "group": "726294de1fd9b442",
        "order": 21,
        "width": 1,
        "height": 1
    },
    {
        "id": "f01b581e210774cd",
        "type": "ui_spacer",
        "z": "cad31e87669e9eae",
        "name": "spacer",
        "group": "68b1d2b81d491e27",
        "order": 1,
        "width": 6,
        "height": 1
    },
    {
        "id": "884d85d6012975d8",
        "type": "ui_spacer",
        "z": "3d656d11d633d8e4",
        "name": "spacer",
        "group": "0fbbf5c841d4a51c",
        "order": 4,
        "width": 2,
        "height": 1
    },
    {
        "id": "cae3bf536e98b4a5",
        "type": "ui_spacer",
        "z": "3d656d11d633d8e4",
        "name": "spacer",
        "group": "0fbbf5c841d4a51c",
        "order": 7,
        "width": 2,
        "height": 1
    },
    {
        "id": "bf50262f422067fd",
        "type": "ui_spacer",
        "z": "3d656d11d633d8e4",
        "name": "spacer",
        "group": "0fbbf5c841d4a51c",
        "order": 10,
        "width": 2,
        "height": 1
    },
    {
        "id": "96a4346be23cd75a",
        "type": "ui_spacer",
        "z": "3d656d11d633d8e4",
        "name": "spacer",
        "group": "0fbbf5c841d4a51c",
        "order": 11,
        "width": 6,
        "height": 1
    },
    {
        "id": "527662f952c3923f",
        "type": "ui_spacer",
        "z": "3d656d11d633d8e4",
        "name": "spacer",
        "group": "0fbbf5c841d4a51c",
        "order": 13,
        "width": 2,
        "height": 1
    },
    {
        "id": "b4b606cf4e3bd32e",
        "type": "ui_spacer",
        "z": "3d656d11d633d8e4",
        "name": "spacer",
        "group": "0fbbf5c841d4a51c",
        "order": 14,
        "width": 6,
        "height": 1
    },
    {
        "id": "5137a0c71d71617b",
        "type": "ui_spacer",
        "z": "3d656d11d633d8e4",
        "name": "spacer",
        "group": "0fbbf5c841d4a51c",
        "order": 16,
        "width": 2,
        "height": 1
    },
    {
        "id": "8ecfbb5a7f707064",
        "type": "ui_spacer",
        "z": "3d656d11d633d8e4",
        "name": "spacer",
        "group": "0fbbf5c841d4a51c",
        "order": 17,
        "width": 3,
        "height": 1
    },
    {
        "id": "cee2e886ad9bf253",
        "type": "ui_spacer",
        "z": "3d656d11d633d8e4",
        "name": "spacer",
        "group": "0fbbf5c841d4a51c",
        "order": 20,
        "width": 2,
        "height": 1
    },
    {
        "id": "60f59919c81ae75b",
        "type": "OpcUa-Endpoint",
        "endpoint": "opc.tcp://opcua-server:4840/freeopcua/server/",
        "secpol": "None",
        "secmode": "None",
        "none": true,
        "login": false,
        "usercert": false,
        "usercertificate": "",
        "userprivatekey": ""
    },
    {
        "id": "bb039652.dcf5a8",
        "type": "OpcUa-Endpoint",
        "endpoint": "opc.tcp://H7Q8Q13.vstage.co:53530/OPCUA/SimulationServer",
        "secpol": "None",
        "secmode": "None",
        "none": true,
        "login": false,
        "usercert": false,
        "usercertificate": "",
        "userprivatekey": ""
    },
    {
        "id": "83439742.083188",
        "type": "OpcUa-Endpoint",
        "endpoint": "opc.tcp://opcua-server:4840/freeopcua/server/",
        "secpol": "None",
        "secmode": "None",
        "none": false,
        "login": false,
        "usercert": false,
        "usercertificate": "",
        "userprivatekey": ""
    },
    {
        "id": "58241fb2.5e084",
        "type": "OpcUa-Endpoint",
        "endpoint": "opc.tcp://localhost:53881/",
        "secpol": "None",
        "secmode": "None",
        "login": false
    },
    {
        "id": "2a25d3ea.021ccc",
        "type": "OpcUa-Endpoint",
        "endpoint": "opc.tcp://opcuademo.sterfive.com:26543",
        "secpol": "None",
        "secmode": "None",
        "login": false
    },
    {
        "id": "9cd7df76dded4d0a",
        "type": "OpcUa-Endpoint",
        "endpoint": "opcua://localhost:53888",
        "secpol": "None",
        "secmode": "None",
        "login": false,
        "usercert": true,
        "usercertificate": "cert.pem",
        "userprivatekey": "key.pem"
    },
    {
        "id": "2d07f2d7ed540a1b",
        "type": "ui_tab",
        "name": "Opencart",
        "icon": "dashboard",
        "order": 6,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "7fe3b5e9e04dec0e",
        "type": "ui_group",
        "name": "ERP",
        "tab": "2d07f2d7ed540a1b",
        "order": 1,
        "disp": true,
        "width": 12,
        "collapse": false,
        "className": ""
    },
    {
        "id": "c5c63a09432b4014",
        "type": "ui_group",
        "name": "MES",
        "tab": "2d07f2d7ed540a1b",
        "order": 2,
        "disp": true,
        "width": 14,
        "collapse": false,
        "className": ""
    },
    {
        "id": "e79f82358a5cac41",
        "type": "MySQLdatabase",
        "name": "",
        "host": "mysql",
        "port": "3306",
        "db": "bitnami_opencart",
        "tz": "",
        "charset": "UTF8"
    },
    {
        "id": "c41e449c4381c34f",
        "type": "ui_group",
        "name": "機台磨損",
        "tab": "2d07f2d7ed540a1b",
        "order": 3,
        "disp": true,
        "width": 11,
        "collapse": false,
        "className": ""
    },
    {
        "id": "8c826ab3918e6d35",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "7fe3b5e9e04dec0e",
        "order": 1,
        "width": 2,
        "height": 1
    },
    {
        "id": "e892b5cfa7b5fa1e",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "7fe3b5e9e04dec0e",
        "order": 4,
        "width": 2,
        "height": 1
    },
    {
        "id": "01d8a15c1e9a7627",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "7fe3b5e9e04dec0e",
        "order": 8,
        "width": 2,
        "height": 1
    },
    {
        "id": "ca8f7311efc77710",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "7fe3b5e9e04dec0e",
        "order": 9,
        "width": 2,
        "height": 1
    },
    {
        "id": "64e6ab3f9b237bbb",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "7fe3b5e9e04dec0e",
        "order": 10,
        "width": 2,
        "height": 1
    },
    {
        "id": "a649f0be219ea981",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "7fe3b5e9e04dec0e",
        "order": 11,
        "width": 2,
        "height": 1
    },
    {
        "id": "e24b045609069e90",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "7fe3b5e9e04dec0e",
        "order": 13,
        "width": 6,
        "height": 1
    },
    {
        "id": "0a2ea03d8001375a",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "7fe3b5e9e04dec0e",
        "order": 16,
        "width": 2,
        "height": 1
    },
    {
        "id": "315f308099094aa8",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "7fe3b5e9e04dec0e",
        "order": 17,
        "width": 2,
        "height": 1
    },
    {
        "id": "2dbfccc42c7ea8c9",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "7fe3b5e9e04dec0e",
        "order": 18,
        "width": 2,
        "height": 1
    },
    {
        "id": "9c8d13729efc0a3d",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "7fe3b5e9e04dec0e",
        "order": 19,
        "width": 4,
        "height": 1
    },
    {
        "id": "56ae60d8efafcc24",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "7fe3b5e9e04dec0e",
        "order": 21,
        "width": 2,
        "height": 1
    },
    {
        "id": "f4b8acd7998144ec",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "7fe3b5e9e04dec0e",
        "order": 22,
        "width": 12,
        "height": 1
    },
    {
        "id": "7e1e522ff6b9be07",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "7fe3b5e9e04dec0e",
        "order": 26,
        "width": 2,
        "height": 1
    },
    {
        "id": "59245ae348549275",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "7fe3b5e9e04dec0e",
        "order": 27,
        "width": 2,
        "height": 1
    },
    {
        "id": "cbfc35b289a9d02a",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "7fe3b5e9e04dec0e",
        "order": 28,
        "width": 2,
        "height": 1
    },
    {
        "id": "6b68df5f724422be",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "7fe3b5e9e04dec0e",
        "order": 29,
        "width": 2,
        "height": 1
    },
    {
        "id": "130a17c5df817e8b",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "7fe3b5e9e04dec0e",
        "order": 30,
        "width": 2,
        "height": 1
    },
    {
        "id": "bfbbd063c0b6abc3",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "7fe3b5e9e04dec0e",
        "order": 31,
        "width": 2,
        "height": 1
    },
    {
        "id": "91b6dae329e17aaa",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "7fe3b5e9e04dec0e",
        "order": 32,
        "width": 2,
        "height": 1
    },
    {
        "id": "30f4eda99b859f45",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "c5c63a09432b4014",
        "order": 4,
        "width": 2,
        "height": 1
    },
    {
        "id": "2be9003f8b324153",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "c5c63a09432b4014",
        "order": 8,
        "width": 2,
        "height": 1
    },
    {
        "id": "fa83df843b291ef1",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "c5c63a09432b4014",
        "order": 11,
        "width": 2,
        "height": 1
    },
    {
        "id": "0e8e5c66860b2467",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "c5c63a09432b4014",
        "order": 17,
        "width": 6,
        "height": 1
    },
    {
        "id": "0e5e35d58b0fb61c",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "c5c63a09432b4014",
        "order": 24,
        "width": 8,
        "height": 1
    },
    {
        "id": "7003c9dcf76a2157",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "c5c63a09432b4014",
        "order": 25,
        "width": 8,
        "height": 1
    },
    {
        "id": "7f066b9ce96dc5aa",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "c5c63a09432b4014",
        "order": 26,
        "width": 8,
        "height": 1
    },
    {
        "id": "6f04953e5413e0c6",
        "type": "ui_spacer",
        "z": "8bbb7658dea8df3b",
        "name": "spacer",
        "group": "c41e449c4381c34f",
        "order": 4,
        "width": 1,
        "height": 1
    },
    {
        "id": "699046ec.3e1b78",
        "type": "inject",
        "z": "c88a71c9.688818",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 180,
        "y": 80,
        "wires": [
            [
                "7dd49c19.29e75c"
            ]
        ]
    },
    {
        "id": "e4beac85.1d4d78",
        "type": "debug",
        "z": "c88a71c9.688818",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 590,
        "y": 80,
        "wires": []
    },
    {
        "id": "8ffaec31.e2a02",
        "type": "debug",
        "z": "c88a71c9.688818",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 570,
        "y": 180,
        "wires": []
    },
    {
        "id": "62981a95.cd186c",
        "type": "inject",
        "z": "c88a71c9.688818",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 180,
        "y": 180,
        "wires": [
            [
                "a56de452.aafbd8"
            ]
        ]
    },
    {
        "id": "2bc1708e.a8539",
        "type": "comment",
        "z": "c88a71c9.688818",
        "name": "Information",
        "info": "The Modbus Server and Modbus Flex Server \nworking with all reading and writing nodes.\n\nThese are two different servers \nfrom different libraries.\n\nThe simple examples hold \nthe same functions for both servers.\n",
        "x": 810,
        "y": 200,
        "wires": []
    },
    {
        "id": "afb69812.fc4d68",
        "type": "debug",
        "z": "c88a71c9.688818",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 570,
        "y": 220,
        "wires": []
    },
    {
        "id": "2534b73c.f4a13",
        "type": "debug",
        "z": "c88a71c9.688818",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 590,
        "y": 120,
        "wires": []
    },
    {
        "id": "7dd49c19.29e75c",
        "type": "modbus-server",
        "z": "c88a71c9.688818",
        "name": "",
        "logEnabled": false,
        "hostname": "",
        "serverPort": "14502",
        "responseDelay": "50",
        "delayUnit": "ms",
        "coilsBufferSize": 1024,
        "holdingBufferSize": 1024,
        "inputBufferSize": 1024,
        "discreteBufferSize": "1024",
        "showErrors": true,
        "x": 360,
        "y": 80,
        "wires": [
            [
                "e4beac85.1d4d78"
            ],
            [
                "e4beac85.1d4d78"
            ],
            [
                "e4beac85.1d4d78"
            ],
            [
                "e4beac85.1d4d78"
            ],
            [
                "2534b73c.f4a13"
            ]
        ]
    },
    {
        "id": "a56de452.aafbd8",
        "type": "modbus-flex-server",
        "z": "c88a71c9.688818",
        "name": "",
        "logEnabled": false,
        "serverAddress": "0.0.0.0",
        "serverPort": "15502",
        "responseDelay": 100,
        "unitId": 1,
        "delayUnit": "ms",
        "coilsBufferSize": 20000,
        "registersBufferSize": 20000,
        "minAddress": 0,
        "splitAddress": 10000,
        "funcGetCoil": "function getFlexCoil(addr, unitID) {\n\tif (unitID === node.unitId && \n\t\taddr >= node.minAddress && \n\t\taddr <= node.splitAddress) { \n\n\t\treturn node.coils.readUInt8(addr * node.bufferFactor) \n\t}  \n}",
        "funcGetDiscreteInput": "function getFlexDiscreteInput(addr, unitID) {\n\tif (unitID === node.unitId && \n\t\taddr > node.splitAddress && \n\t\taddr <= node.splitAddress * 2) { \n\n\t\treturn node.coils.readUInt8(addr * node.bufferFactor) \n\t}  \n}",
        "funcGetInputRegister": "function getFlexInputRegister(addr, unitID) { \n\tif (unitID === node.unitId && \n\t\taddr >= node.minAddress && \n\t\taddr <= node.splitAddress) { \n\n\t\treturn node.registers.readUInt16BE(addr * node.bufferFactor)  \n\t} \n}",
        "funcGetHoldingRegister": "function getFlexHoldingRegsiter(addr, unitID) { \n\tif (unitID === node.unitId && \n\t\taddr > node.splitAddress && \n\t\taddr <= node.splitAddress * 2) { \n\n\t\treturn node.registers.readUInt16BE(addr * node.bufferFactor)  \n\t} \n}",
        "funcSetCoil": "function setFlexCoil(addr, value, unitID) { \n\tif (unitID === node.unitId && \n\t\taddr >= node.minAddress && \n\t\taddr <= node.splitAddress) { \n\n\t\tnode.coils.writeUInt8(value, addr * node.bufferFactor)  \n\t} \n}",
        "funcSetRegister": "function setFlexRegister(addr, value, unitID) { \n\tif (unitID === node.unitId && \n\t\taddr >= node.minAddress && \n\t\taddr <= node.splitAddress * 2) { \n\n\t\tnode.registers.writeUInt16BE(value, addr * node.bufferFactor)  \n\t} \n}",
        "showErrors": true,
        "x": 380,
        "y": 180,
        "wires": [
            [
                "8ffaec31.e2a02"
            ],
            [
                "8ffaec31.e2a02"
            ],
            [
                "8ffaec31.e2a02"
            ],
            [
                "8ffaec31.e2a02"
            ],
            [
                "afb69812.fc4d68"
            ]
        ]
    },
    {
        "id": "087a1ada9c632bd0",
        "type": "debug",
        "z": "caa303f9c44233ae",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 690,
        "y": 60,
        "wires": []
    },
    {
        "id": "64f5c6462fa5b8a0",
        "type": "inject",
        "z": "caa303f9c44233ae",
        "name": "Get!",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 210,
        "y": 200,
        "wires": [
            [
                "6b0c30572a77d2db"
            ]
        ]
    },
    {
        "id": "6552ad3e8a23ff5c",
        "type": "function",
        "z": "caa303f9c44233ae",
        "name": "Write 24 on Unit 1 FC6",
        "func": "let val = global.get('address_24');\nmsg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 24 , 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 1140,
        "wires": [
            [
                "27c1bc947659422b"
            ]
        ]
    },
    {
        "id": "e7591002b4018d91",
        "type": "function",
        "z": "caa303f9c44233ae",
        "name": "Write 25 on Unit 1 FC6",
        "func": "let val = global.get('address_25');\nmsg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 25 , 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 370,
        "y": 940,
        "wires": [
            [
                "c35812b2697b7cb4"
            ]
        ]
    },
    {
        "id": "76b26fd2634ad2d2",
        "type": "function",
        "z": "caa303f9c44233ae",
        "name": "global.address_24",
        "func": "global.set('address_24', msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 1080,
        "wires": [
            []
        ]
    },
    {
        "id": "87b028b6b7d6a517",
        "type": "function",
        "z": "caa303f9c44233ae",
        "name": "global.address_25",
        "func": "global.set('address_25', msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "89d873b79f08c158",
        "type": "function",
        "z": "caa303f9c44233ae",
        "name": "更新 guage max value",
        "func": "let max = msg.payload[24];\nmsg.payload = msg.payload[26];\nmsg.ui_control = { \"min\": 0, \"max\": max };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 180,
        "wires": [
            [
                "cdd7349bbd8b48c2"
            ]
        ]
    },
    {
        "id": "807ad04859b237ff",
        "type": "function",
        "z": "caa303f9c44233ae",
        "name": "控警示燈",
        "func": "if (msg.payload[26] > msg.payload[25]) {\n    msg.payload = 'lime';\n} else {\n    msg.payload = 'red';\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 260,
        "wires": [
            [
                "da45d6d1543f5160",
                "fdb1a03fc9a9942e"
            ]
        ]
    },
    {
        "id": "f91d71aa9f3a4f45",
        "type": "function",
        "z": "caa303f9c44233ae",
        "name": "Write 26 on Unit 1 FC6",
        "func": "let val = global.get('address_24');\nmsg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 26 , 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 800,
        "wires": [
            [
                "69c089e5a0df4ca2"
            ]
        ]
    },
    {
        "id": "0c623b5be8e82d83",
        "type": "function",
        "z": "caa303f9c44233ae",
        "name": "Write 26 on Unit 1 FC6",
        "func": "let val = global.get('address_26');\nif (val > 0) {\n    val -= 1;\n    global.get('address_26', val);\n}\nmsg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 26, 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 370,
        "y": 680,
        "wires": [
            [
                "41ab3fb621bf98b0"
            ]
        ]
    },
    {
        "id": "b4b358c41b4ab35a",
        "type": "function",
        "z": "caa303f9c44233ae",
        "name": "write global.address_26",
        "func": "global.set('address_26', msg.payload[26]);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "fdb1a03fc9a9942e",
        "type": "function",
        "z": "caa303f9c44233ae",
        "name": "更新警示燈",
        "func": "let val = 0;\nif (msg.payload === 'red') {\n    val = 1;\n}\nmsg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 15, 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 280,
        "wires": [
            [
                "db1d0f841f2e886a"
            ]
        ]
    },
    {
        "id": "f0135208d6588a39",
        "type": "inject",
        "z": "caa303f9c44233ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "4",
        "payloadType": "num",
        "x": 350,
        "y": 900,
        "wires": [
            [
                "ecbd269197b9e5fc"
            ]
        ]
    },
    {
        "id": "ed399f77cf8095cd",
        "type": "inject",
        "z": "caa303f9c44233ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "10",
        "payloadType": "num",
        "x": 370,
        "y": 1080,
        "wires": [
            [
                "5fca1355a8c7bf5b"
            ]
        ]
    },
    {
        "id": "27c1bc947659422b",
        "type": "modbus-flex-write",
        "z": "caa303f9c44233ae",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "352955bb.be6e6a",
        "emptyMsgOnFail": true,
        "keepMsgProperties": false,
        "x": 550,
        "y": 1140,
        "wires": [
            [],
            [
                "f77595acf329f27c"
            ]
        ]
    },
    {
        "id": "c35812b2697b7cb4",
        "type": "modbus-flex-write",
        "z": "caa303f9c44233ae",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "352955bb.be6e6a",
        "emptyMsgOnFail": true,
        "keepMsgProperties": false,
        "x": 610,
        "y": 940,
        "wires": [
            [],
            [
                "0e438e822a08c080"
            ]
        ]
    },
    {
        "id": "69c089e5a0df4ca2",
        "type": "modbus-flex-write",
        "z": "caa303f9c44233ae",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "352955bb.be6e6a",
        "emptyMsgOnFail": true,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 590,
        "y": 800,
        "wires": [
            [],
            [
                "67d157fa7da890b5"
            ]
        ]
    },
    {
        "id": "41ab3fb621bf98b0",
        "type": "modbus-flex-write",
        "z": "caa303f9c44233ae",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "352955bb.be6e6a",
        "emptyMsgOnFail": true,
        "keepMsgProperties": false,
        "x": 610,
        "y": 680,
        "wires": [
            [],
            [
                "ccd4bfcfbda62db2"
            ]
        ]
    },
    {
        "id": "db1d0f841f2e886a",
        "type": "modbus-flex-write",
        "z": "caa303f9c44233ae",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "352955bb.be6e6a",
        "emptyMsgOnFail": true,
        "keepMsgProperties": false,
        "x": 1210,
        "y": 280,
        "wires": [
            [],
            [
                "756c152251893add"
            ]
        ]
    },
    {
        "id": "1577c4377dff5b6e",
        "type": "modbus-response",
        "z": "caa303f9c44233ae",
        "name": "",
        "registerShowMax": "20",
        "x": 710,
        "y": 120,
        "wires": []
    },
    {
        "id": "f77595acf329f27c",
        "type": "modbus-response",
        "z": "caa303f9c44233ae",
        "name": "",
        "registerShowMax": 20,
        "x": 750,
        "y": 1140,
        "wires": []
    },
    {
        "id": "0e438e822a08c080",
        "type": "modbus-response",
        "z": "caa303f9c44233ae",
        "name": "",
        "registerShowMax": 20,
        "x": 850,
        "y": 940,
        "wires": []
    },
    {
        "id": "67d157fa7da890b5",
        "type": "modbus-response",
        "z": "caa303f9c44233ae",
        "name": "",
        "registerShowMax": 20,
        "x": 830,
        "y": 800,
        "wires": []
    },
    {
        "id": "ccd4bfcfbda62db2",
        "type": "modbus-response",
        "z": "caa303f9c44233ae",
        "name": "",
        "registerShowMax": 20,
        "x": 850,
        "y": 680,
        "wires": []
    },
    {
        "id": "756c152251893add",
        "type": "modbus-response",
        "z": "caa303f9c44233ae",
        "name": "",
        "registerShowMax": 20,
        "x": 1090,
        "y": 360,
        "wires": []
    },
    {
        "id": "6b0c30572a77d2db",
        "type": "modbus-getter",
        "z": "caa303f9c44233ae",
        "name": "Manual Getter FC3",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "logIOActivities": false,
        "unitid": "",
        "dataType": "HoldingRegister",
        "adr": "0",
        "quantity": "30",
        "server": "352955bb.be6e6a",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": true,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 410,
        "y": 200,
        "wires": [
            [
                "087a1ada9c632bd0",
                "2323bee10569f2cf",
                "7a2b10d12d8f0e4a",
                "0d3efbbfcd3509a3",
                "89d873b79f08c158",
                "3cd55e99e340a56a",
                "807ad04859b237ff",
                "b4b358c41b4ab35a"
            ],
            [
                "1577c4377dff5b6e"
            ]
        ]
    },
    {
        "id": "ce4dbb49b277eb1a",
        "type": "ui_button",
        "z": "caa303f9c44233ae",
        "name": "",
        "group": "726294de1fd9b442",
        "order": 20,
        "width": 5,
        "height": 1,
        "passthru": false,
        "label": "更換完成",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 140,
        "y": 800,
        "wires": [
            [
                "f91d71aa9f3a4f45",
                "ba0801b04b00f4ad",
                "29be73f812b9f501"
            ]
        ]
    },
    {
        "id": "c84569906cc4ddbc",
        "type": "ui_button",
        "z": "caa303f9c44233ae",
        "name": "",
        "group": "2030999dbeb860bd",
        "order": 7,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "寫入",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 150,
        "y": 940,
        "wires": [
            [
                "e7591002b4018d91"
            ]
        ]
    },
    {
        "id": "13a7b83bc59296dc",
        "type": "ui_button",
        "z": "caa303f9c44233ae",
        "name": "",
        "group": "2030999dbeb860bd",
        "order": 3,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "寫入",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 90,
        "y": 1140,
        "wires": [
            [
                "6552ad3e8a23ff5c"
            ]
        ]
    },
    {
        "id": "82160d5253dc7f43",
        "type": "ui_button",
        "z": "caa303f9c44233ae",
        "name": "",
        "group": "2030999dbeb860bd",
        "order": 10,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "蓋印",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 150,
        "y": 680,
        "wires": [
            [
                "0c623b5be8e82d83"
            ]
        ]
    },
    {
        "id": "5fca1355a8c7bf5b",
        "type": "ui_text_input",
        "z": "caa303f9c44233ae",
        "name": "",
        "label": "",
        "tooltip": "",
        "group": "2030999dbeb860bd",
        "order": 2,
        "width": 2,
        "height": 1,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 540,
        "y": 1080,
        "wires": [
            [
                "76b26fd2634ad2d2"
            ]
        ]
    },
    {
        "id": "ecbd269197b9e5fc",
        "type": "ui_text_input",
        "z": "caa303f9c44233ae",
        "name": "",
        "label": "",
        "tooltip": "",
        "group": "2030999dbeb860bd",
        "order": 6,
        "width": 2,
        "height": 1,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 520,
        "y": 900,
        "wires": [
            [
                "87b028b6b7d6a517"
            ]
        ]
    },
    {
        "id": "72752d0226805ffa",
        "type": "ui_text",
        "z": "caa303f9c44233ae",
        "group": "726294de1fd9b442",
        "order": 2,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "機台磨損",
        "format": "",
        "layout": "row-spread",
        "className": "",
        "style": true,
        "font": "Arial,Arial,Helvetica,sans-serif",
        "fontSize": "32",
        "color": "#0080ff",
        "x": 1000,
        "y": 140,
        "wires": []
    },
    {
        "id": "6f4c7585b2993f2f",
        "type": "ui_text",
        "z": "caa303f9c44233ae",
        "group": "726294de1fd9b442",
        "order": 5,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "請更換印頭",
        "format": "",
        "layout": "row-left",
        "className": "",
        "style": true,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1170,
        "y": 140,
        "wires": []
    },
    {
        "id": "d49029f1e69412d7",
        "type": "ui_text",
        "z": "caa303f9c44233ae",
        "group": "2030999dbeb860bd",
        "order": 5,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "警示數量",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 160,
        "y": 900,
        "wires": []
    },
    {
        "id": "2323bee10569f2cf",
        "type": "ui_text",
        "z": "caa303f9c44233ae",
        "group": "2030999dbeb860bd",
        "order": 14,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "蓋印頭庫存初始數量(address 24)",
        "format": "{{msg.payload[24]}}",
        "layout": "row-spread",
        "className": "",
        "style": true,
        "font": "",
        "fontSize": 16,
        "color": "#ff0000",
        "x": 440,
        "y": 300,
        "wires": []
    },
    {
        "id": "7a2b10d12d8f0e4a",
        "type": "ui_text",
        "z": "caa303f9c44233ae",
        "group": "2030999dbeb860bd",
        "order": 16,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "警示數量(address 25)",
        "format": "{{msg.payload[25]}}",
        "layout": "row-spread",
        "className": "",
        "style": true,
        "font": "",
        "fontSize": 16,
        "color": "#ff0000",
        "x": 440,
        "y": 360,
        "wires": []
    },
    {
        "id": "0d3efbbfcd3509a3",
        "type": "ui_text",
        "z": "caa303f9c44233ae",
        "group": "2030999dbeb860bd",
        "order": 18,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "警示燈號(address 15)",
        "format": "{{msg.payload[15]}}",
        "layout": "row-spread",
        "className": "",
        "style": true,
        "font": "",
        "fontSize": 16,
        "color": "#ff0000",
        "x": 420,
        "y": 420,
        "wires": []
    },
    {
        "id": "3cd55e99e340a56a",
        "type": "ui_text",
        "z": "caa303f9c44233ae",
        "group": "2030999dbeb860bd",
        "order": 12,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "蓋印頭庫存實際數量(address 26)",
        "format": "{{msg.payload[26]}}",
        "layout": "row-spread",
        "className": "",
        "style": true,
        "font": "",
        "fontSize": 16,
        "color": "#ff0000",
        "x": 760,
        "y": 420,
        "wires": []
    },
    {
        "id": "22338d2b52602be1",
        "type": "ui_text",
        "z": "caa303f9c44233ae",
        "group": "2030999dbeb860bd",
        "order": 1,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "蓋印頭庫存初始數量",
        "format": "",
        "layout": "row-left",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 160,
        "y": 1080,
        "wires": []
    },
    {
        "id": "cdd7349bbd8b48c2",
        "type": "ui_gauge",
        "z": "caa303f9c44233ae",
        "name": "",
        "group": "726294de1fd9b442",
        "order": 9,
        "width": 5,
        "height": 5,
        "gtype": "gage",
        "title": "蓋印頭剩餘次數",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "10",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 1000,
        "y": 180,
        "wires": []
    },
    {
        "id": "da45d6d1543f5160",
        "type": "ui_template",
        "z": "caa303f9c44233ae",
        "group": "726294de1fd9b442",
        "name": "",
        "order": 6,
        "width": 1,
        "height": 1,
        "format": "<div\n    style=\"border: 1px solid black; border-radius: 100%; background-color: {{msg.payload}}; width: 20px; height: 20px;margin:10px auto\">\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 1000,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "ba0801b04b00f4ad",
        "type": "function",
        "z": "caa303f9c44233ae",
        "name": "Write 24 on Unit 1 FC6",
        "func": "let val = global.get('address_24');\nmsg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 24 , 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 740,
        "wires": [
            [
                "69c089e5a0df4ca2"
            ]
        ]
    },
    {
        "id": "29be73f812b9f501",
        "type": "function",
        "z": "caa303f9c44233ae",
        "name": "Write 25 on Unit 1 FC6",
        "func": "let val = global.get('address_24');\nmsg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 26 , 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 840,
        "wires": [
            [
                "69c089e5a0df4ca2"
            ]
        ]
    },
    {
        "id": "de688df0b74a4bb9",
        "type": "inject",
        "z": "3d656d11d633d8e4",
        "name": "Get!",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 80,
        "wires": [
            [
                "dca460d35c6e5825"
            ]
        ]
    },
    {
        "id": "c092eae46d3bf1b6",
        "type": "function",
        "z": "3d656d11d633d8e4",
        "name": "global.address_0",
        "func": "global.set('address_0', msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 1200,
        "wires": [
            []
        ]
    },
    {
        "id": "e9128600906e3781",
        "type": "function",
        "z": "3d656d11d633d8e4",
        "name": "Write 0 on Unit 1 FC6",
        "func": "let val = global.get('address_0');\nmsg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 0 , 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 1380,
        "wires": [
            [
                "d3718d5ac386494a"
            ]
        ]
    },
    {
        "id": "88c7402c09571d63",
        "type": "function",
        "z": "3d656d11d633d8e4",
        "name": "加工時間+1",
        "func": "let flag = global.get('break_timer');\nlet val = global.get('intervalSeconds');\nif (flag == 0) {\n    val += 1;\n    global.set('intervalSeconds', val);\n}\nmsg.payload = val;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 540,
        "wires": [
            [
                "35c15f9cee68c3d4",
                "a13717b292d99999"
            ]
        ]
    },
    {
        "id": "35c15f9cee68c3d4",
        "type": "delay",
        "z": "3d656d11d633d8e4",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 720,
        "y": 660,
        "wires": [
            [
                "88c7402c09571d63"
            ]
        ]
    },
    {
        "id": "601edbd743da3c02",
        "type": "function",
        "z": "3d656d11d633d8e4",
        "name": "結束累計加工時間，並停止生產",
        "func": "global.set('break_timer', 1);\nglobal.set('in_process', false);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 570,
        "y": 1680,
        "wires": [
            []
        ]
    },
    {
        "id": "81b099466ab18e44",
        "type": "function",
        "z": "3d656d11d633d8e4",
        "name": "清除加工累計時間變數",
        "func": "\nglobal.set('break_timer', 0);\nglobal.set('intervalSeconds', 0);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 600,
        "wires": [
            [
                "88c7402c09571d63",
                "aa7d9b456922a1c2"
            ]
        ]
    },
    {
        "id": "a13717b292d99999",
        "type": "function",
        "z": "3d656d11d633d8e4",
        "name": "寫入加工時間到Modbus",
        "func": "msg.payload = { value: msg.payload, 'fc': 6, 'unitid': 1, 'address': 2 , 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 600,
        "wires": [
            [
                "bb3768219ab785d9"
            ]
        ]
    },
    {
        "id": "cab0f95fce68859b",
        "type": "function",
        "z": "3d656d11d633d8e4",
        "name": "更新待生產數量",
        "func": "let val = global.get('address_0');\nif (val > 0) {\n    val -= 1;\n    global.set('address_0', val);\n}\nmsg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 0, 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 720,
        "wires": [
            [
                "4e667a2943609509"
            ]
        ]
    },
    {
        "id": "214b688e06e13f01",
        "type": "function",
        "z": "3d656d11d633d8e4",
        "name": "global.set(address_5)",
        "func": "global.set('address_5', msg.payload[5]);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "9b5926b6dc9d37a9",
        "type": "function",
        "z": "3d656d11d633d8e4",
        "name": "生產數量+1",
        "func": "let val = global.get('address_5');\nval += 1;\nmsg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 5, 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 760,
        "wires": [
            [
                "4e667a2943609509"
            ]
        ]
    },
    {
        "id": "09ad208c73b553c5",
        "type": "function",
        "z": "3d656d11d633d8e4",
        "name": "檢測",
        "func": "if (msg.payload) {\n    msg.payload = '良品';\n    global.set('aoi', true);\n} else {\n    msg.payload = '不良品';\n    global.set('aoi', false);\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 1520,
        "wires": [
            [
                "af3b89bd01056b1a"
            ]
        ]
    },
    {
        "id": "b4da75bf7d1e5bca",
        "type": "inject",
        "z": "3d656d11d633d8e4",
        "name": "Get!",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 1520,
        "wires": [
            [
                "d6fda3ba6819a574"
            ]
        ]
    },
    {
        "id": "8750072d6567da59",
        "type": "function",
        "z": "3d656d11d633d8e4",
        "name": "根據檢測結果，異動不良品累計或良品累計",
        "func": "let aoi = global.get('aoi');\nif (aoi) {\n    let val = global.get(\"address_6\");\n    val += 1\n    msg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 6, 'quantity': 1 };\n} else {\n    let val = global.get(\"address_7\");\n    val += 1\n    msg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 7, 'quantity': 1 };\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 1740,
        "wires": [
            [
                "b28bad737320c04d"
            ]
        ]
    },
    {
        "id": "14b08a06e6dce4a7",
        "type": "function",
        "z": "3d656d11d633d8e4",
        "name": "global.set(address_6)",
        "func": "global.set('address_6', msg.payload[6]);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "7052c268d5514b13",
        "type": "function",
        "z": "3d656d11d633d8e4",
        "name": "global.set(address_7)",
        "func": "global.set('address_7', msg.payload[7]);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "8a3de101841c28e5",
        "type": "function",
        "z": "3d656d11d633d8e4",
        "name": "待生產數量>0",
        "func": "let val = global.get('address_0');\nif (val > 0) {\n    global.set('in_process', true);\n    return msg;\n} else {\n    global.set('in_process', false);\n    return null;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 600,
        "wires": [
            [
                "81b099466ab18e44",
                "cab0f95fce68859b",
                "9b5926b6dc9d37a9"
            ]
        ]
    },
    {
        "id": "76727e9581c2fd58",
        "type": "function",
        "z": "3d656d11d633d8e4",
        "name": "檢測是否在生產中",
        "func": "let val = global.get('in_process');\nif (val) {\n    return msg;\n} else {\n    return null;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 1700,
        "wires": [
            [
                "601edbd743da3c02",
                "8750072d6567da59"
            ]
        ]
    },
    {
        "id": "99c2a90f90e1e29e",
        "type": "function",
        "z": "3d656d11d633d8e4",
        "name": "計算良率",
        "func": "let in_process = global.get('in_process');\nif (in_process == false)\n{\n    let total = msg.payload[5];\n    let good = msg.payload[6];\n    msg.payload = Math.floor((good / total) * 100);\n    return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 420,
        "wires": [
            [
                "ce704f41e0f0a141"
            ]
        ]
    },
    {
        "id": "6c887c7e675d936e",
        "type": "function",
        "z": "3d656d11d633d8e4",
        "name": "清除待生產數量",
        "func": "msg.payload = { value: 0, 'fc': 6, 'unitid': 1, 'address': 0, 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 1000,
        "wires": [
            [
                "1f3ff826e842e38f"
            ]
        ]
    },
    {
        "id": "35669919e87527eb",
        "type": "function",
        "z": "3d656d11d633d8e4",
        "name": "清除加工累計時間",
        "func": "msg.payload = { value: 0, 'fc': 6, 'unitid': 1, 'address': 2, 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 1040,
        "wires": [
            [
                "1f3ff826e842e38f"
            ]
        ]
    },
    {
        "id": "b91b8b7eac96314e",
        "type": "function",
        "z": "3d656d11d633d8e4",
        "name": "清除生產累計、良品累計、瑕疪品累計",
        "func": "let val = [0, 0, 0];\nmsg.payload = { value: val, 'fc': 16, 'unitid': 1, 'address': 5, 'quantity': 3 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 1080,
        "wires": [
            [
                "1f3ff826e842e38f"
            ]
        ]
    },
    {
        "id": "01913613701e6fbe",
        "type": "function",
        "z": "3d656d11d633d8e4",
        "name": "Rest text input",
        "func": "msg.payload = 0;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 220,
        "y": 1140,
        "wires": [
            [
                "71e65fcbe1c10763"
            ]
        ]
    },
    {
        "id": "aa7d9b456922a1c2",
        "type": "function",
        "z": "3d656d11d633d8e4",
        "name": "清除加工時間",
        "func": "msg.payload = { value: 0, 'fc': 6, 'unitid': 1, 'address': 2, 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 800,
        "wires": [
            [
                "4e667a2943609509"
            ]
        ]
    },
    {
        "id": "a7f963ef0eb7a852",
        "type": "inject",
        "z": "3d656d11d633d8e4",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "10",
        "payloadType": "num",
        "x": 170,
        "y": 1200,
        "wires": [
            [
                "71e65fcbe1c10763"
            ]
        ]
    },
    {
        "id": "d3718d5ac386494a",
        "type": "modbus-flex-write",
        "z": "3d656d11d633d8e4",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "352955bb.be6e6a",
        "emptyMsgOnFail": true,
        "keepMsgProperties": false,
        "x": 530,
        "y": 1380,
        "wires": [
            [],
            [
                "bf6d43e82af7442a"
            ]
        ]
    },
    {
        "id": "bb3768219ab785d9",
        "type": "modbus-flex-write",
        "z": "3d656d11d633d8e4",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "352955bb.be6e6a",
        "emptyMsgOnFail": true,
        "keepMsgProperties": false,
        "x": 1190,
        "y": 540,
        "wires": [
            [],
            [
                "14149968530e3d51"
            ]
        ]
    },
    {
        "id": "4e667a2943609509",
        "type": "modbus-flex-write",
        "z": "3d656d11d633d8e4",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "352955bb.be6e6a",
        "emptyMsgOnFail": true,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 670,
        "y": 760,
        "wires": [
            [],
            [
                "0c73e33b0a4ad8db"
            ]
        ]
    },
    {
        "id": "b28bad737320c04d",
        "type": "modbus-flex-write",
        "z": "3d656d11d633d8e4",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "352955bb.be6e6a",
        "emptyMsgOnFail": true,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 170,
        "y": 1800,
        "wires": [
            [],
            [
                "cfe3ff8ed6c42067"
            ]
        ]
    },
    {
        "id": "1f3ff826e842e38f",
        "type": "modbus-flex-write",
        "z": "3d656d11d633d8e4",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "352955bb.be6e6a",
        "emptyMsgOnFail": true,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 650,
        "y": 1020,
        "wires": [
            [],
            [
                "6fd134559b941755"
            ]
        ]
    },
    {
        "id": "27834f57f69ae3b6",
        "type": "modbus-response",
        "z": "3d656d11d633d8e4",
        "name": "",
        "registerShowMax": "20",
        "x": 630,
        "y": 80,
        "wires": []
    },
    {
        "id": "bf6d43e82af7442a",
        "type": "modbus-response",
        "z": "3d656d11d633d8e4",
        "name": "",
        "registerShowMax": 20,
        "x": 750,
        "y": 1380,
        "wires": []
    },
    {
        "id": "14149968530e3d51",
        "type": "modbus-response",
        "z": "3d656d11d633d8e4",
        "name": "",
        "registerShowMax": 20,
        "x": 1210,
        "y": 660,
        "wires": []
    },
    {
        "id": "0c73e33b0a4ad8db",
        "type": "modbus-response",
        "z": "3d656d11d633d8e4",
        "name": "",
        "registerShowMax": 20,
        "x": 910,
        "y": 760,
        "wires": []
    },
    {
        "id": "cfe3ff8ed6c42067",
        "type": "modbus-response",
        "z": "3d656d11d633d8e4",
        "name": "",
        "registerShowMax": 20,
        "x": 430,
        "y": 1800,
        "wires": []
    },
    {
        "id": "6fd134559b941755",
        "type": "modbus-response",
        "z": "3d656d11d633d8e4",
        "name": "",
        "registerShowMax": 20,
        "x": 870,
        "y": 1020,
        "wires": []
    },
    {
        "id": "dca460d35c6e5825",
        "type": "modbus-getter",
        "z": "3d656d11d633d8e4",
        "name": "Manual Getter FC3",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "logIOActivities": false,
        "unitid": "",
        "dataType": "HoldingRegister",
        "adr": "0",
        "quantity": "30",
        "server": "352955bb.be6e6a",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": true,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 330,
        "y": 80,
        "wires": [
            [
                "8dd97a78908e3451",
                "14f5ed02536dd29c",
                "214b688e06e13f01",
                "69a853635fa91efb",
                "561d7cf34e68d7e2",
                "14b08a06e6dce4a7",
                "7052c268d5514b13",
                "4ddba6c4b2a549b1",
                "99c2a90f90e1e29e",
                "2c9f07c27f9ea538"
            ],
            [
                "27834f57f69ae3b6"
            ]
        ]
    },
    {
        "id": "5a07d8fa9633c88b",
        "type": "ui_button",
        "z": "3d656d11d633d8e4",
        "name": "",
        "group": "0fbbf5c841d4a51c",
        "order": 3,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "寫入",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "-1",
        "payloadType": "num",
        "topic": "topic",
        "topicType": "msg",
        "x": 110,
        "y": 1380,
        "wires": [
            [
                "e9128600906e3781"
            ]
        ]
    },
    {
        "id": "4640890ddab52c2f",
        "type": "ui_button",
        "z": "3d656d11d633d8e4",
        "name": "",
        "group": "0fbbf5c841d4a51c",
        "order": 6,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "開始生產",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "start",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 80,
        "y": 600,
        "wires": [
            [
                "8a3de101841c28e5"
            ]
        ]
    },
    {
        "id": "6721049127aaf227",
        "type": "ui_button",
        "z": "3d656d11d633d8e4",
        "name": "",
        "group": "0fbbf5c841d4a51c",
        "order": 12,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "停止生產",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "stop",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 120,
        "y": 1700,
        "wires": [
            [
                "76727e9581c2fd58"
            ]
        ]
    },
    {
        "id": "5b4a9ec86295f92f",
        "type": "ui_button",
        "z": "3d656d11d633d8e4",
        "name": "",
        "group": "0fbbf5c841d4a51c",
        "order": 15,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "復歸",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 130,
        "y": 1060,
        "wires": [
            [
                "6c887c7e675d936e",
                "35669919e87527eb",
                "b91b8b7eac96314e",
                "01913613701e6fbe"
            ]
        ]
    },
    {
        "id": "d6fda3ba6819a574",
        "type": "ui_switch",
        "z": "3d656d11d633d8e4",
        "name": "",
        "label": "線上檢測結果",
        "tooltip": "",
        "group": "0fbbf5c841d4a51c",
        "order": 8,
        "width": 6,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 300,
        "y": 1520,
        "wires": [
            [
                "09ad208c73b553c5"
            ]
        ]
    },
    {
        "id": "71e65fcbe1c10763",
        "type": "ui_text_input",
        "z": "3d656d11d633d8e4",
        "name": "",
        "label": "",
        "tooltip": "",
        "group": "0fbbf5c841d4a51c",
        "order": 2,
        "width": 3,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 350,
        "y": 1200,
        "wires": [
            [
                "c092eae46d3bf1b6"
            ]
        ]
    },
    {
        "id": "2c9f07c27f9ea538",
        "type": "ui_text",
        "z": "3d656d11d633d8e4",
        "group": "0fbbf5c841d4a51c",
        "order": 5,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "產品加工時間(秒)",
        "format": "{{msg.payload[2]}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 890,
        "y": 360,
        "wires": []
    },
    {
        "id": "8dd97a78908e3451",
        "type": "ui_text",
        "z": "3d656d11d633d8e4",
        "group": "3dac47f8a838e21a",
        "order": 2,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "已生產數量",
        "format": "{{msg.payload[5]}}",
        "layout": "row-spread",
        "className": "",
        "style": true,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 610,
        "y": 240,
        "wires": []
    },
    {
        "id": "14f5ed02536dd29c",
        "type": "ui_text",
        "z": "3d656d11d633d8e4",
        "group": "3dac47f8a838e21a",
        "order": 1,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "待生產數量",
        "format": "{{msg.payload[0]}}",
        "layout": "row-spread",
        "className": "",
        "style": true,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 610,
        "y": 140,
        "wires": []
    },
    {
        "id": "69a853635fa91efb",
        "type": "ui_text",
        "z": "3d656d11d633d8e4",
        "group": "3dac47f8a838e21a",
        "order": 5,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "單一產品加工時間(秒)",
        "format": "{{msg.payload[2]}}",
        "layout": "row-spread",
        "className": "",
        "style": true,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 640,
        "y": 360,
        "wires": []
    },
    {
        "id": "af3b89bd01056b1a",
        "type": "ui_text",
        "z": "3d656d11d633d8e4",
        "group": "0fbbf5c841d4a51c",
        "order": 9,
        "width": 2,
        "height": 1,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 610,
        "y": 1520,
        "wires": []
    },
    {
        "id": "561d7cf34e68d7e2",
        "type": "ui_text",
        "z": "3d656d11d633d8e4",
        "group": "3dac47f8a838e21a",
        "order": 3,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "瑕疪品數量",
        "format": "{{msg.payload[7]}}",
        "layout": "row-spread",
        "className": "",
        "style": true,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 610,
        "y": 280,
        "wires": []
    },
    {
        "id": "4ddba6c4b2a549b1",
        "type": "ui_text",
        "z": "3d656d11d633d8e4",
        "group": "3dac47f8a838e21a",
        "order": 4,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "良品數量",
        "format": "{{msg.payload[6]}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 600,
        "y": 320,
        "wires": []
    },
    {
        "id": "e96b06975c33ac7b",
        "type": "ui_text",
        "z": "3d656d11d633d8e4",
        "group": "0fbbf5c841d4a51c",
        "order": 1,
        "width": 3,
        "height": 1,
        "name": "",
        "label": "投入生產數量",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 140,
        "y": 1440,
        "wires": []
    },
    {
        "id": "ce704f41e0f0a141",
        "type": "ui_gauge",
        "z": "3d656d11d633d8e4",
        "name": "",
        "group": "3dac47f8a838e21a",
        "order": 6,
        "width": 6,
        "height": 4,
        "gtype": "gage",
        "title": "良率",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 770,
        "y": 420,
        "wires": []
    },
    {
        "id": "81f142405aa8ee12",
        "type": "inject",
        "z": "cad31e87669e9eae",
        "name": "Get!",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 330,
        "y": 80,
        "wires": [
            [
                "ec636eaf7aecf0e8"
            ]
        ]
    },
    {
        "id": "b95a941b97a476f7",
        "type": "function",
        "z": "cad31e87669e9eae",
        "name": "address_1",
        "func": "msg.payload = msg.payload[1];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 850,
        "y": 100,
        "wires": [
            [
                "f24ef03b1de2533c"
            ]
        ]
    },
    {
        "id": "493627649a7f1117",
        "type": "function",
        "z": "cad31e87669e9eae",
        "name": "address_16",
        "func": "msg.payload = msg.payload[16];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 850,
        "y": 140,
        "wires": [
            [
                "abd0e9d24e8db4e2"
            ]
        ]
    },
    {
        "id": "9938b7ad1f5d07c2",
        "type": "function",
        "z": "cad31e87669e9eae",
        "name": "address_17",
        "func": "msg.payload = msg.payload[17];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 850,
        "y": 180,
        "wires": [
            [
                "6e9e129fd4aee2b1"
            ]
        ]
    },
    {
        "id": "23c722943b50c3b4",
        "type": "function",
        "z": "cad31e87669e9eae",
        "name": "address_18",
        "func": "msg.payload = msg.payload[18];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 850,
        "y": 220,
        "wires": [
            [
                "e002a5ac979ec9c3"
            ]
        ]
    },
    {
        "id": "7cce9476bfa8cd72",
        "type": "function",
        "z": "cad31e87669e9eae",
        "name": "address_19",
        "func": "msg.payload = msg.payload[19];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 850,
        "y": 280,
        "wires": [
            [
                "547513ca8d40a899"
            ]
        ]
    },
    {
        "id": "1d273e4cdba7d3cd",
        "type": "function",
        "z": "cad31e87669e9eae",
        "name": "address_20",
        "func": "msg.payload = msg.payload[20];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 850,
        "y": 320,
        "wires": [
            [
                "cc3886ff560a7fea"
            ]
        ]
    },
    {
        "id": "dca0a79b9596a3b8",
        "type": "function",
        "z": "cad31e87669e9eae",
        "name": "address_21",
        "func": "msg.payload = msg.payload[21];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 850,
        "y": 360,
        "wires": [
            [
                "6c8371401e2e9560"
            ]
        ]
    },
    {
        "id": "6431e054cd640607",
        "type": "function",
        "z": "cad31e87669e9eae",
        "name": "address_22",
        "func": "msg.payload = msg.payload[22];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 850,
        "y": 400,
        "wires": [
            [
                "ada68d39c77afb9c"
            ]
        ]
    },
    {
        "id": "8461a553abe383ae",
        "type": "inject",
        "z": "cad31e87669e9eae",
        "name": "Get!",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 520,
        "wires": [
            [
                "564e3a7d5bdd4e47"
            ]
        ]
    },
    {
        "id": "d44c23b1ed37b30c",
        "type": "function",
        "z": "cad31e87669e9eae",
        "name": "address_1",
        "func": "msg.payload = msg.payload[1];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 580,
        "wires": [
            [
                "4cd739e26d5ca1cd"
            ]
        ]
    },
    {
        "id": "b5b7ee9be896fd4a",
        "type": "function",
        "z": "cad31e87669e9eae",
        "name": "address_16",
        "func": "msg.payload = msg.payload[16];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 620,
        "wires": [
            [
                "500b108ddf5d8e45"
            ]
        ]
    },
    {
        "id": "15a62fc047ba36ce",
        "type": "function",
        "z": "cad31e87669e9eae",
        "name": "address_17",
        "func": "msg.payload = msg.payload[17];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 660,
        "wires": [
            [
                "f5b175175299ef97"
            ]
        ]
    },
    {
        "id": "e4fae6e5a2248176",
        "type": "function",
        "z": "cad31e87669e9eae",
        "name": "address_18",
        "func": "msg.payload = msg.payload[18];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 700,
        "wires": [
            [
                "6b2cc33c86b1db42"
            ]
        ]
    },
    {
        "id": "d7d4121763499cf5",
        "type": "function",
        "z": "cad31e87669e9eae",
        "name": "address_19",
        "func": "msg.payload = msg.payload[19];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 760,
        "wires": [
            [
                "c93e9110bb9b3709"
            ]
        ]
    },
    {
        "id": "827be38af40f1114",
        "type": "function",
        "z": "cad31e87669e9eae",
        "name": "address_20",
        "func": "msg.payload = msg.payload[20];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 800,
        "wires": [
            [
                "714fc8db6c6fdc37"
            ]
        ]
    },
    {
        "id": "ce0eac5c1442b59f",
        "type": "function",
        "z": "cad31e87669e9eae",
        "name": "address_21",
        "func": "msg.payload = msg.payload[21];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 840,
        "wires": [
            [
                "9131c390bfc069ab"
            ]
        ]
    },
    {
        "id": "7e084c6ee606eefa",
        "type": "function",
        "z": "cad31e87669e9eae",
        "name": "address_22",
        "func": "msg.payload = msg.payload[22];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 880,
        "wires": [
            [
                "f19f84492ac89c30"
            ]
        ]
    },
    {
        "id": "f554fd3028a10025",
        "type": "function",
        "z": "cad31e87669e9eae",
        "name": "write address_1",
        "func": "let val = msg.payload;\nmsg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 1, 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 580,
        "wires": [
            [
                "ba8830e5bf32a1b9"
            ]
        ]
    },
    {
        "id": "5a6ce99c8c4e3255",
        "type": "function",
        "z": "cad31e87669e9eae",
        "name": "write address_16",
        "func": "let val = msg.payload;\nmsg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 16, 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1050,
        "y": 620,
        "wires": [
            [
                "ba8830e5bf32a1b9"
            ]
        ]
    },
    {
        "id": "79127a5de1261952",
        "type": "function",
        "z": "cad31e87669e9eae",
        "name": "write address_17",
        "func": "let val = msg.payload;\nmsg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 17, 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1050,
        "y": 660,
        "wires": [
            [
                "ba8830e5bf32a1b9"
            ]
        ]
    },
    {
        "id": "581aa57497609444",
        "type": "function",
        "z": "cad31e87669e9eae",
        "name": "write address_18",
        "func": "let val = msg.payload;\nmsg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 18, 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1050,
        "y": 700,
        "wires": [
            [
                "ba8830e5bf32a1b9"
            ]
        ]
    },
    {
        "id": "ae8abda868c0edfb",
        "type": "function",
        "z": "cad31e87669e9eae",
        "name": "write address_19",
        "func": "let val = msg.payload;\nmsg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 19, 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1050,
        "y": 760,
        "wires": [
            [
                "ba8830e5bf32a1b9"
            ]
        ]
    },
    {
        "id": "bb83b12c8322c42c",
        "type": "function",
        "z": "cad31e87669e9eae",
        "name": "write address_20",
        "func": "let val = msg.payload;\nmsg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 20, 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1050,
        "y": 800,
        "wires": [
            [
                "ba8830e5bf32a1b9"
            ]
        ]
    },
    {
        "id": "beb4a8d1be6b5f46",
        "type": "function",
        "z": "cad31e87669e9eae",
        "name": "write address_21",
        "func": "let val = msg.payload;\nmsg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 21, 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1050,
        "y": 840,
        "wires": [
            [
                "ba8830e5bf32a1b9"
            ]
        ]
    },
    {
        "id": "0b7b9ae6c8082a14",
        "type": "function",
        "z": "cad31e87669e9eae",
        "name": "write address_22",
        "func": "let val = msg.payload;\nmsg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 22, 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1050,
        "y": 880,
        "wires": [
            [
                "ba8830e5bf32a1b9"
            ]
        ]
    },
    {
        "id": "ba8830e5bf32a1b9",
        "type": "modbus-flex-write",
        "z": "cad31e87669e9eae",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "352955bb.be6e6a",
        "emptyMsgOnFail": true,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1390,
        "y": 620,
        "wires": [
            [],
            [
                "92e1d7c1b52d0952"
            ]
        ]
    },
    {
        "id": "8c67a2e9e99ace0b",
        "type": "modbus-response",
        "z": "cad31e87669e9eae",
        "name": "",
        "registerShowMax": "20",
        "x": 710,
        "y": 40,
        "wires": []
    },
    {
        "id": "7b61911a139ecb36",
        "type": "modbus-response",
        "z": "cad31e87669e9eae",
        "name": "",
        "registerShowMax": "20",
        "x": 530,
        "y": 520,
        "wires": []
    },
    {
        "id": "92e1d7c1b52d0952",
        "type": "modbus-response",
        "z": "cad31e87669e9eae",
        "name": "",
        "registerShowMax": 20,
        "x": 1630,
        "y": 620,
        "wires": []
    },
    {
        "id": "ec636eaf7aecf0e8",
        "type": "modbus-getter",
        "z": "cad31e87669e9eae",
        "name": "Manual Getter FC3",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "logIOActivities": false,
        "unitid": "",
        "dataType": "HoldingRegister",
        "adr": "0",
        "quantity": "30",
        "server": "352955bb.be6e6a",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": true,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 510,
        "y": 80,
        "wires": [
            [
                "b95a941b97a476f7",
                "493627649a7f1117",
                "9938b7ad1f5d07c2",
                "23c722943b50c3b4",
                "7cce9476bfa8cd72",
                "1d273e4cdba7d3cd",
                "dca0a79b9596a3b8",
                "6431e054cd640607"
            ],
            [
                "8c67a2e9e99ace0b"
            ]
        ]
    },
    {
        "id": "564e3a7d5bdd4e47",
        "type": "modbus-getter",
        "z": "cad31e87669e9eae",
        "name": "Manual Getter FC3",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "logIOActivities": false,
        "unitid": "",
        "dataType": "HoldingRegister",
        "adr": "0",
        "quantity": "30",
        "server": "352955bb.be6e6a",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": true,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 290,
        "y": 520,
        "wires": [
            [
                "d44c23b1ed37b30c",
                "b5b7ee9be896fd4a",
                "15a62fc047ba36ce",
                "e4fae6e5a2248176",
                "d7d4121763499cf5",
                "827be38af40f1114",
                "ce0eac5c1442b59f",
                "7e084c6ee606eefa"
            ],
            [
                "7b61911a139ecb36"
            ]
        ]
    },
    {
        "id": "4cd739e26d5ca1cd",
        "type": "ui_switch",
        "z": "cad31e87669e9eae",
        "name": "",
        "label": "Status LED",
        "tooltip": "",
        "group": "d015adead53f3bd9",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 730,
        "y": 580,
        "wires": [
            [
                "f554fd3028a10025"
            ]
        ]
    },
    {
        "id": "500b108ddf5d8e45",
        "type": "ui_switch",
        "z": "cad31e87669e9eae",
        "name": "",
        "label": "輸送帶運轉燈",
        "tooltip": "",
        "group": "d015adead53f3bd9",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 740,
        "y": 620,
        "wires": [
            [
                "5a6ce99c8c4e3255"
            ]
        ]
    },
    {
        "id": "f5b175175299ef97",
        "type": "ui_switch",
        "z": "cad31e87669e9eae",
        "name": "",
        "label": "整列運轉燈",
        "tooltip": "",
        "group": "d015adead53f3bd9",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 730,
        "y": 660,
        "wires": [
            [
                "79127a5de1261952"
            ]
        ]
    },
    {
        "id": "6b2cc33c86b1db42",
        "type": "ui_switch",
        "z": "cad31e87669e9eae",
        "name": "",
        "label": "龍門運轉燈",
        "tooltip": "",
        "group": "d015adead53f3bd9",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 730,
        "y": 700,
        "wires": [
            [
                "581aa57497609444"
            ]
        ]
    },
    {
        "id": "c93e9110bb9b3709",
        "type": "ui_switch",
        "z": "cad31e87669e9eae",
        "name": "",
        "label": "出料狀態指示燈_位置1",
        "tooltip": "",
        "group": "d015adead53f3bd9",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 760,
        "y": 760,
        "wires": [
            [
                "ae8abda868c0edfb"
            ]
        ]
    },
    {
        "id": "714fc8db6c6fdc37",
        "type": "ui_switch",
        "z": "cad31e87669e9eae",
        "name": "",
        "label": "出料狀態指示燈_位置2",
        "tooltip": "",
        "group": "d015adead53f3bd9",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 760,
        "y": 800,
        "wires": [
            [
                "bb83b12c8322c42c"
            ]
        ]
    },
    {
        "id": "9131c390bfc069ab",
        "type": "ui_switch",
        "z": "cad31e87669e9eae",
        "name": "",
        "label": "出料狀態指示燈_位置3",
        "tooltip": "",
        "group": "d015adead53f3bd9",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 760,
        "y": 840,
        "wires": [
            [
                "beb4a8d1be6b5f46"
            ]
        ]
    },
    {
        "id": "f19f84492ac89c30",
        "type": "ui_switch",
        "z": "cad31e87669e9eae",
        "name": "",
        "label": "出料狀態指示燈_位置4",
        "tooltip": "",
        "group": "d015adead53f3bd9",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 760,
        "y": 880,
        "wires": [
            [
                "0b7b9ae6c8082a14"
            ]
        ]
    },
    {
        "id": "f24ef03b1de2533c",
        "type": "ui_led",
        "z": "cad31e87669e9eae",
        "order": 2,
        "group": "68b1d2b81d491e27",
        "width": 0,
        "height": 0,
        "label": "Status LED",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#008000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#ff0000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "",
        "x": 1010,
        "y": 100,
        "wires": []
    },
    {
        "id": "abd0e9d24e8db4e2",
        "type": "ui_led",
        "z": "cad31e87669e9eae",
        "order": 3,
        "group": "68b1d2b81d491e27",
        "width": 0,
        "height": 0,
        "label": "輸送帶運轉燈",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#008000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#ff0000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "",
        "x": 1010,
        "y": 140,
        "wires": []
    },
    {
        "id": "6e9e129fd4aee2b1",
        "type": "ui_led",
        "z": "cad31e87669e9eae",
        "order": 4,
        "group": "68b1d2b81d491e27",
        "width": 0,
        "height": 0,
        "label": "整列運轉燈",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#008000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#ff0000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "",
        "x": 1010,
        "y": 180,
        "wires": []
    },
    {
        "id": "e002a5ac979ec9c3",
        "type": "ui_led",
        "z": "cad31e87669e9eae",
        "order": 5,
        "group": "68b1d2b81d491e27",
        "width": 0,
        "height": 0,
        "label": "龍門運轉燈",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#008000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#ff0000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "",
        "x": 1010,
        "y": 220,
        "wires": []
    },
    {
        "id": "547513ca8d40a899",
        "type": "ui_led",
        "z": "cad31e87669e9eae",
        "order": 6,
        "group": "68b1d2b81d491e27",
        "width": 0,
        "height": 0,
        "label": "出料狀態指示燈_位置1",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#008000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#ff0000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showGlow": true,
        "name": "",
        "x": 1010,
        "y": 280,
        "wires": []
    },
    {
        "id": "cc3886ff560a7fea",
        "type": "ui_led",
        "z": "cad31e87669e9eae",
        "order": 7,
        "group": "68b1d2b81d491e27",
        "width": 0,
        "height": 0,
        "label": "出料狀態指示燈_位置2",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#008000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#ff0000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showGlow": true,
        "name": "",
        "x": 1010,
        "y": 320,
        "wires": []
    },
    {
        "id": "6c8371401e2e9560",
        "type": "ui_led",
        "z": "cad31e87669e9eae",
        "order": 8,
        "group": "68b1d2b81d491e27",
        "width": 0,
        "height": 0,
        "label": "出料狀態指示燈_位置3",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#008000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#ff0000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showGlow": true,
        "name": "",
        "x": 1010,
        "y": 360,
        "wires": []
    },
    {
        "id": "ada68d39c77afb9c",
        "type": "ui_led",
        "z": "cad31e87669e9eae",
        "order": 9,
        "group": "68b1d2b81d491e27",
        "width": 0,
        "height": 0,
        "label": "出料狀態指示燈_位置4",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#008000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#ff0000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showGlow": true,
        "name": "",
        "x": 1010,
        "y": 400,
        "wires": []
    },
    {
        "id": "d9e5cec98cefac7c",
        "type": "inject",
        "z": "0285aea373c5d1c1",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "x": 150,
        "y": 120,
        "wires": [
            [
                "0761178311bd85d6",
                "763507e3a57d0bc3",
                "56708162f589b879",
                "414bce5322710ff0",
                "69ea859f0dc8fc94",
                "29a828a8fe2905e9",
                "a50dfc193bd37218",
                "bc6dfb198ab08416"
            ]
        ]
    },
    {
        "id": "c92a557fd59fc7b1",
        "type": "function",
        "z": "0285aea373c5d1c1",
        "name": "address_1",
        "func": "msg.payload = msg.payload[0];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 120,
        "wires": [
            [
                "cee5be3b181f38d5"
            ]
        ]
    },
    {
        "id": "f5e82d5be5e579e2",
        "type": "function",
        "z": "0285aea373c5d1c1",
        "name": "address_16",
        "func": "msg.payload = msg.payload[0];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 180,
        "wires": [
            [
                "519a6fab391f0bdc"
            ]
        ]
    },
    {
        "id": "6081f95ab1f66099",
        "type": "function",
        "z": "0285aea373c5d1c1",
        "name": "address_17",
        "func": "msg.payload = msg.payload[0];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 240,
        "wires": [
            [
                "809b575ea69d1054"
            ]
        ]
    },
    {
        "id": "b847334523f9e34e",
        "type": "function",
        "z": "0285aea373c5d1c1",
        "name": "address_18",
        "func": "msg.payload = msg.payload[0];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 300,
        "wires": [
            [
                "2167def910dadd31"
            ]
        ]
    },
    {
        "id": "4cad89084fef1c2d",
        "type": "function",
        "z": "0285aea373c5d1c1",
        "name": "address_19",
        "func": "msg.payload = msg.payload[0];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 360,
        "wires": [
            [
                "d4f8ee60b2175607"
            ]
        ]
    },
    {
        "id": "a2b02a3d370b5827",
        "type": "function",
        "z": "0285aea373c5d1c1",
        "name": "address_20",
        "func": "msg.payload = msg.payload[0];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 420,
        "wires": [
            [
                "6a560a5c17e3d912"
            ]
        ]
    },
    {
        "id": "32d3a7fae80feb80",
        "type": "function",
        "z": "0285aea373c5d1c1",
        "name": "address_21",
        "func": "msg.payload = msg.payload[0];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 480,
        "wires": [
            [
                "eeb823518f7a2c27"
            ]
        ]
    },
    {
        "id": "3105734120713f39",
        "type": "function",
        "z": "0285aea373c5d1c1",
        "name": "address_22",
        "func": "msg.payload = msg.payload[0];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 540,
        "wires": [
            [
                "13bfb359e40c59dc"
            ]
        ]
    },
    {
        "id": "f46d48e21b8992a5",
        "type": "inject",
        "z": "0285aea373c5d1c1",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "x": 150,
        "y": 620,
        "wires": [
            [
                "ecc5f3dfab42c861",
                "f14053e181b057fc",
                "38ad6364240c0b76",
                "7ec678900ff1cc5a",
                "512e894aaae2c85e",
                "062906038594f1f9",
                "4a2b815a903bc668",
                "189cc5c062279237"
            ]
        ]
    },
    {
        "id": "5bd847d73700d965",
        "type": "function",
        "z": "0285aea373c5d1c1",
        "name": "address_1",
        "func": "msg.payload = {\n    \"arrayType\": 0,\n    \"dataType\": 8,\n    \"value\": [\n        msg.payload[0],\n        0\n    ]\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 620,
        "wires": [
            [
                "7d8cbff11fee3b92"
            ]
        ]
    },
    {
        "id": "5634fd803726fa72",
        "type": "function",
        "z": "0285aea373c5d1c1",
        "name": "address_16",
        "func": "msg.payload = {\n    \"arrayType\": 0,\n    \"dataType\": 8,\n    \"value\": [\n        msg.payload[0],\n        0\n    ]\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 680,
        "wires": [
            [
                "47eec34f1b51c6f9"
            ]
        ]
    },
    {
        "id": "4a1236535c2239cd",
        "type": "function",
        "z": "0285aea373c5d1c1",
        "name": "address_17",
        "func": "msg.payload = {\n    \"arrayType\": 0,\n    \"dataType\": 8,\n    \"value\": [\n        msg.payload[0],\n        0\n    ]\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 740,
        "wires": [
            [
                "9bd9d5c85a460302"
            ]
        ]
    },
    {
        "id": "a4a837b19717b91b",
        "type": "function",
        "z": "0285aea373c5d1c1",
        "name": "address_18",
        "func": "msg.payload = {\n    \"arrayType\": 0,\n    \"dataType\": 8,\n    \"value\": [\n        msg.payload[0],\n        0\n    ]\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 800,
        "wires": [
            [
                "2c40d307295facb8"
            ]
        ]
    },
    {
        "id": "b1443748c98615e5",
        "type": "function",
        "z": "0285aea373c5d1c1",
        "name": "address_19",
        "func": "msg.payload = {\n    \"arrayType\": 0,\n    \"dataType\": 8,\n    \"value\": [\n        msg.payload[0],\n        0\n    ]\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 860,
        "wires": [
            [
                "6c814f9c4a66a6c2"
            ]
        ]
    },
    {
        "id": "f6d2793dd5c9413e",
        "type": "function",
        "z": "0285aea373c5d1c1",
        "name": "address_20",
        "func": "msg.payload = {\n    \"arrayType\": 0,\n    \"dataType\": 8,\n    \"value\": [\n        msg.payload[0],\n        0\n    ]\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 920,
        "wires": [
            [
                "7a7abf9fb47a3472"
            ]
        ]
    },
    {
        "id": "7fd14a3027c0d5b2",
        "type": "function",
        "z": "0285aea373c5d1c1",
        "name": "address_21",
        "func": "msg.payload = {\n    \"arrayType\": 0,\n    \"dataType\": 8,\n    \"value\": [\n        msg.payload[0],\n        0\n    ]\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 980,
        "wires": [
            [
                "b0737e384fe22e92"
            ]
        ]
    },
    {
        "id": "101e3b0c9dcd57c0",
        "type": "function",
        "z": "0285aea373c5d1c1",
        "name": "address_22",
        "func": "msg.payload = {\n    \"arrayType\": 0,\n    \"dataType\": 8,\n    \"value\": [\n        msg.payload[0],\n        0\n    ]\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 1040,
        "wires": [
            [
                "d3f0c773030fab47"
            ]
        ]
    },
    {
        "id": "7d8cbff11fee3b92",
        "type": "ui_switch",
        "z": "0285aea373c5d1c1",
        "name": "",
        "label": "Status LED",
        "tooltip": "",
        "group": "e258692e34946cd8",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "{\"arrayType\":0,\"dataType\":8,\"value\":[1,0]}",
        "onvalueType": "json",
        "onicon": "",
        "oncolor": "",
        "offvalue": "{\"arrayType\":0,\"dataType\":8,\"value\":[0,0]}",
        "offvalueType": "json",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 890,
        "y": 620,
        "wires": [
            [
                "01b5a7a8e4730b2c"
            ]
        ]
    },
    {
        "id": "47eec34f1b51c6f9",
        "type": "ui_switch",
        "z": "0285aea373c5d1c1",
        "name": "",
        "label": "輸送帶運轉燈",
        "tooltip": "",
        "group": "e258692e34946cd8",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "{\"arrayType\":0,\"dataType\":8,\"value\":[1,0]}",
        "onvalueType": "json",
        "onicon": "",
        "oncolor": "",
        "offvalue": "{\"arrayType\":0,\"dataType\":8,\"value\":[0,0]}",
        "offvalueType": "json",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 900,
        "y": 680,
        "wires": [
            [
                "02256ea1a5ecd657"
            ]
        ]
    },
    {
        "id": "9bd9d5c85a460302",
        "type": "ui_switch",
        "z": "0285aea373c5d1c1",
        "name": "",
        "label": "整列運轉燈",
        "tooltip": "",
        "group": "e258692e34946cd8",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "{\"arrayType\":0,\"dataType\":8,\"value\":[1,0]}",
        "onvalueType": "json",
        "onicon": "",
        "oncolor": "",
        "offvalue": "{\"arrayType\":0,\"dataType\":8,\"value\":[0,0]}",
        "offvalueType": "json",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 890,
        "y": 740,
        "wires": [
            [
                "c64ded7414c3206d"
            ]
        ]
    },
    {
        "id": "2c40d307295facb8",
        "type": "ui_switch",
        "z": "0285aea373c5d1c1",
        "name": "",
        "label": "龍門運轉燈",
        "tooltip": "",
        "group": "e258692e34946cd8",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "{\"arrayType\":0,\"dataType\":8,\"value\":[1,0]}",
        "onvalueType": "json",
        "onicon": "",
        "oncolor": "",
        "offvalue": "{\"arrayType\":0,\"dataType\":8,\"value\":[0,0]}",
        "offvalueType": "json",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 890,
        "y": 800,
        "wires": [
            [
                "32eac5fbbf612ba8"
            ]
        ]
    },
    {
        "id": "6c814f9c4a66a6c2",
        "type": "ui_switch",
        "z": "0285aea373c5d1c1",
        "name": "",
        "label": "出料狀態指示燈_位置1",
        "tooltip": "",
        "group": "e258692e34946cd8",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "{\"arrayType\":0,\"dataType\":8,\"value\":[1,0]}",
        "onvalueType": "json",
        "onicon": "",
        "oncolor": "",
        "offvalue": "{\"arrayType\":0,\"dataType\":8,\"value\":[0,0]}",
        "offvalueType": "json",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 920,
        "y": 860,
        "wires": [
            [
                "b9383a86fafdccb7"
            ]
        ]
    },
    {
        "id": "7a7abf9fb47a3472",
        "type": "ui_switch",
        "z": "0285aea373c5d1c1",
        "name": "",
        "label": "出料狀態指示燈_位置2",
        "tooltip": "",
        "group": "e258692e34946cd8",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "{\"arrayType\":0,\"dataType\":8,\"value\":[1,0]}",
        "onvalueType": "json",
        "onicon": "",
        "oncolor": "",
        "offvalue": "{\"arrayType\":0,\"dataType\":8,\"value\":[0,0]}",
        "offvalueType": "json",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 920,
        "y": 920,
        "wires": [
            [
                "2818105341e11b7c"
            ]
        ]
    },
    {
        "id": "b0737e384fe22e92",
        "type": "ui_switch",
        "z": "0285aea373c5d1c1",
        "name": "",
        "label": "出料狀態指示燈_位置3",
        "tooltip": "",
        "group": "e258692e34946cd8",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "{\"arrayType\":0,\"dataType\":8,\"value\":[1,0]}",
        "onvalueType": "json",
        "onicon": "",
        "oncolor": "",
        "offvalue": "{\"arrayType\":0,\"dataType\":8,\"value\":[0,0]}",
        "offvalueType": "json",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 920,
        "y": 980,
        "wires": [
            [
                "a09336b5a480fe62"
            ]
        ]
    },
    {
        "id": "d3f0c773030fab47",
        "type": "ui_switch",
        "z": "0285aea373c5d1c1",
        "name": "",
        "label": "出料狀態指示燈_位置4",
        "tooltip": "",
        "group": "e258692e34946cd8",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "{\"arrayType\":0,\"dataType\":8,\"value\":[1,0]}",
        "onvalueType": "json",
        "onicon": "",
        "oncolor": "",
        "offvalue": "{\"arrayType\":0,\"dataType\":8,\"value\":[0,0]}",
        "offvalueType": "json",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 920,
        "y": 1040,
        "wires": [
            [
                "32e5ea55da7ece33"
            ]
        ]
    },
    {
        "id": "cee5be3b181f38d5",
        "type": "ui_led",
        "z": "0285aea373c5d1c1",
        "order": 2,
        "group": "17603838db4ae1df",
        "width": 0,
        "height": 0,
        "label": "Status LED",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#008000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#ff0000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "",
        "x": 870,
        "y": 120,
        "wires": []
    },
    {
        "id": "519a6fab391f0bdc",
        "type": "ui_led",
        "z": "0285aea373c5d1c1",
        "order": 3,
        "group": "17603838db4ae1df",
        "width": 0,
        "height": 0,
        "label": "輸送帶運轉燈",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#008000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#ff0000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "",
        "x": 870,
        "y": 180,
        "wires": []
    },
    {
        "id": "809b575ea69d1054",
        "type": "ui_led",
        "z": "0285aea373c5d1c1",
        "order": 4,
        "group": "17603838db4ae1df",
        "width": 0,
        "height": 0,
        "label": "整列運轉燈",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#008000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#ff0000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "",
        "x": 870,
        "y": 240,
        "wires": []
    },
    {
        "id": "2167def910dadd31",
        "type": "ui_led",
        "z": "0285aea373c5d1c1",
        "order": 5,
        "group": "17603838db4ae1df",
        "width": 0,
        "height": 0,
        "label": "龍門運轉燈",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#008000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#ff0000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "",
        "x": 870,
        "y": 300,
        "wires": []
    },
    {
        "id": "d4f8ee60b2175607",
        "type": "ui_led",
        "z": "0285aea373c5d1c1",
        "order": 6,
        "group": "17603838db4ae1df",
        "width": 0,
        "height": 0,
        "label": "出料狀態指示燈_位置1",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#008000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#ff0000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showGlow": true,
        "name": "",
        "x": 870,
        "y": 360,
        "wires": []
    },
    {
        "id": "6a560a5c17e3d912",
        "type": "ui_led",
        "z": "0285aea373c5d1c1",
        "order": 7,
        "group": "17603838db4ae1df",
        "width": 0,
        "height": 0,
        "label": "出料狀態指示燈_位置2",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#008000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#ff0000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showGlow": true,
        "name": "",
        "x": 870,
        "y": 420,
        "wires": []
    },
    {
        "id": "eeb823518f7a2c27",
        "type": "ui_led",
        "z": "0285aea373c5d1c1",
        "order": 8,
        "group": "17603838db4ae1df",
        "width": 0,
        "height": 0,
        "label": "出料狀態指示燈_位置3",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#008000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#ff0000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showGlow": true,
        "name": "",
        "x": 870,
        "y": 480,
        "wires": []
    },
    {
        "id": "13bfb359e40c59dc",
        "type": "ui_led",
        "z": "0285aea373c5d1c1",
        "order": 9,
        "group": "17603838db4ae1df",
        "width": 0,
        "height": 0,
        "label": "出料狀態指示燈_位置4",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#008000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#ff0000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showGlow": true,
        "name": "",
        "x": 870,
        "y": 540,
        "wires": []
    },
    {
        "id": "0761178311bd85d6",
        "type": "OpcUa-Item",
        "z": "0285aea373c5d1c1",
        "item": "ns=2;i=3",
        "datatype": "Int64",
        "value": "",
        "name": "Address_1",
        "x": 330,
        "y": 120,
        "wires": [
            [
                "cbed8386cfecdae8"
            ]
        ]
    },
    {
        "id": "763507e3a57d0bc3",
        "type": "OpcUa-Item",
        "z": "0285aea373c5d1c1",
        "item": "ns=2;i=18",
        "datatype": "Int64",
        "value": "",
        "name": "Address_16",
        "x": 330,
        "y": 180,
        "wires": [
            [
                "cec075525aca79ea"
            ]
        ]
    },
    {
        "id": "56708162f589b879",
        "type": "OpcUa-Item",
        "z": "0285aea373c5d1c1",
        "item": "ns=2;i=19",
        "datatype": "Int64",
        "value": "",
        "name": "Address_17",
        "x": 330,
        "y": 240,
        "wires": [
            [
                "9379b103c50475da"
            ]
        ]
    },
    {
        "id": "414bce5322710ff0",
        "type": "OpcUa-Item",
        "z": "0285aea373c5d1c1",
        "item": "ns=2;i=20",
        "datatype": "Int64",
        "value": "",
        "name": "Address_18",
        "x": 330,
        "y": 300,
        "wires": [
            [
                "72146a28a9715dfc"
            ]
        ]
    },
    {
        "id": "69ea859f0dc8fc94",
        "type": "OpcUa-Item",
        "z": "0285aea373c5d1c1",
        "item": "ns=2;i=21",
        "datatype": "Int64",
        "value": "",
        "name": "Address_19",
        "x": 330,
        "y": 360,
        "wires": [
            [
                "69e3696850ff7c61"
            ]
        ]
    },
    {
        "id": "29a828a8fe2905e9",
        "type": "OpcUa-Item",
        "z": "0285aea373c5d1c1",
        "item": "ns=2;i=22",
        "datatype": "Int64",
        "value": "",
        "name": "Address_20",
        "x": 330,
        "y": 420,
        "wires": [
            [
                "d93dd17ad9cdd0ea"
            ]
        ]
    },
    {
        "id": "a50dfc193bd37218",
        "type": "OpcUa-Item",
        "z": "0285aea373c5d1c1",
        "item": "ns=2;i=23",
        "datatype": "Int64",
        "value": "",
        "name": "Address_21",
        "x": 330,
        "y": 480,
        "wires": [
            [
                "c9c5ce42d687cfac"
            ]
        ]
    },
    {
        "id": "bc6dfb198ab08416",
        "type": "OpcUa-Item",
        "z": "0285aea373c5d1c1",
        "item": "ns=2;i=24",
        "datatype": "Int64",
        "value": "",
        "name": "Address_22",
        "x": 330,
        "y": 540,
        "wires": [
            [
                "0dfa89e705caaf45"
            ]
        ]
    },
    {
        "id": "ecc5f3dfab42c861",
        "type": "OpcUa-Item",
        "z": "0285aea373c5d1c1",
        "item": "ns=2;i=3",
        "datatype": "Int64",
        "value": "",
        "name": "Address_1",
        "x": 330,
        "y": 620,
        "wires": [
            [
                "90dbf604fb1975cc"
            ]
        ]
    },
    {
        "id": "f14053e181b057fc",
        "type": "OpcUa-Item",
        "z": "0285aea373c5d1c1",
        "item": "ns=2;i=18",
        "datatype": "Int64",
        "value": "",
        "name": "Address_16",
        "x": 330,
        "y": 680,
        "wires": [
            [
                "7557601018dcb410"
            ]
        ]
    },
    {
        "id": "38ad6364240c0b76",
        "type": "OpcUa-Item",
        "z": "0285aea373c5d1c1",
        "item": "ns=2;i=19",
        "datatype": "Int64",
        "value": "",
        "name": "Address_17",
        "x": 330,
        "y": 740,
        "wires": [
            [
                "8adbb2b5c1833f91"
            ]
        ]
    },
    {
        "id": "7ec678900ff1cc5a",
        "type": "OpcUa-Item",
        "z": "0285aea373c5d1c1",
        "item": "ns=2;i=20",
        "datatype": "Int64",
        "value": "",
        "name": "Address_18",
        "x": 330,
        "y": 800,
        "wires": [
            [
                "7f66816b514238f0"
            ]
        ]
    },
    {
        "id": "512e894aaae2c85e",
        "type": "OpcUa-Item",
        "z": "0285aea373c5d1c1",
        "item": "ns=2;i=21",
        "datatype": "Int64",
        "value": "",
        "name": "Address_19",
        "x": 330,
        "y": 860,
        "wires": [
            [
                "0aa5f6d855097ea8"
            ]
        ]
    },
    {
        "id": "062906038594f1f9",
        "type": "OpcUa-Item",
        "z": "0285aea373c5d1c1",
        "item": "ns=2;i=22",
        "datatype": "Int64",
        "value": "",
        "name": "Address_20",
        "x": 330,
        "y": 920,
        "wires": [
            [
                "e7bacf119fcebfc5"
            ]
        ]
    },
    {
        "id": "4a2b815a903bc668",
        "type": "OpcUa-Item",
        "z": "0285aea373c5d1c1",
        "item": "ns=2;i=23",
        "datatype": "Int64",
        "value": "",
        "name": "Address_21",
        "x": 330,
        "y": 980,
        "wires": [
            [
                "8916d4a9e901035c"
            ]
        ]
    },
    {
        "id": "189cc5c062279237",
        "type": "OpcUa-Item",
        "z": "0285aea373c5d1c1",
        "item": "ns=2;i=24",
        "datatype": "Int64",
        "value": "",
        "name": "Address_22",
        "x": 330,
        "y": 1040,
        "wires": [
            [
                "0c2ae2d3b329079f"
            ]
        ]
    },
    {
        "id": "01b5a7a8e4730b2c",
        "type": "OpcUa-Item",
        "z": "0285aea373c5d1c1",
        "item": "ns=2;i=3",
        "datatype": "Int64",
        "value": "",
        "name": "Address_1",
        "x": 1110,
        "y": 620,
        "wires": [
            [
                "184311b5b4a1266a"
            ]
        ]
    },
    {
        "id": "02256ea1a5ecd657",
        "type": "OpcUa-Item",
        "z": "0285aea373c5d1c1",
        "item": "ns=2;i=18",
        "datatype": "Int64",
        "value": "",
        "name": "Address_16",
        "x": 1110,
        "y": 680,
        "wires": [
            [
                "184311b5b4a1266a"
            ]
        ]
    },
    {
        "id": "c64ded7414c3206d",
        "type": "OpcUa-Item",
        "z": "0285aea373c5d1c1",
        "item": "ns=2;i=19",
        "datatype": "Int64",
        "value": "",
        "name": "Address_17",
        "x": 1110,
        "y": 740,
        "wires": [
            [
                "184311b5b4a1266a"
            ]
        ]
    },
    {
        "id": "32eac5fbbf612ba8",
        "type": "OpcUa-Item",
        "z": "0285aea373c5d1c1",
        "item": "ns=2;i=20",
        "datatype": "Int64",
        "value": "",
        "name": "Address_18",
        "x": 1110,
        "y": 800,
        "wires": [
            [
                "184311b5b4a1266a"
            ]
        ]
    },
    {
        "id": "b9383a86fafdccb7",
        "type": "OpcUa-Item",
        "z": "0285aea373c5d1c1",
        "item": "ns=2;i=21",
        "datatype": "Int64",
        "value": "",
        "name": "Address_19",
        "x": 1110,
        "y": 860,
        "wires": [
            [
                "184311b5b4a1266a"
            ]
        ]
    },
    {
        "id": "2818105341e11b7c",
        "type": "OpcUa-Item",
        "z": "0285aea373c5d1c1",
        "item": "ns=2;i=22",
        "datatype": "Int64",
        "value": "",
        "name": "Address_20",
        "x": 1110,
        "y": 920,
        "wires": [
            [
                "184311b5b4a1266a"
            ]
        ]
    },
    {
        "id": "a09336b5a480fe62",
        "type": "OpcUa-Item",
        "z": "0285aea373c5d1c1",
        "item": "ns=2;i=23",
        "datatype": "Int64",
        "value": "",
        "name": "Address_21",
        "x": 1110,
        "y": 980,
        "wires": [
            [
                "184311b5b4a1266a"
            ]
        ]
    },
    {
        "id": "32e5ea55da7ece33",
        "type": "OpcUa-Item",
        "z": "0285aea373c5d1c1",
        "item": "ns=2;i=24",
        "datatype": "Int64",
        "value": "",
        "name": "Address_22",
        "x": 1110,
        "y": 1040,
        "wires": [
            [
                "184311b5b4a1266a"
            ]
        ]
    },
    {
        "id": "cbed8386cfecdae8",
        "type": "OpcUa-Client",
        "z": "0285aea373c5d1c1",
        "endpoint": "60f59919c81ae75b",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 520,
        "y": 120,
        "wires": [
            [
                "c92a557fd59fc7b1"
            ],
            []
        ]
    },
    {
        "id": "cec075525aca79ea",
        "type": "OpcUa-Client",
        "z": "0285aea373c5d1c1",
        "endpoint": "60f59919c81ae75b",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 520,
        "y": 180,
        "wires": [
            [
                "f5e82d5be5e579e2"
            ],
            []
        ]
    },
    {
        "id": "9379b103c50475da",
        "type": "OpcUa-Client",
        "z": "0285aea373c5d1c1",
        "endpoint": "60f59919c81ae75b",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 520,
        "y": 240,
        "wires": [
            [
                "6081f95ab1f66099"
            ],
            []
        ]
    },
    {
        "id": "72146a28a9715dfc",
        "type": "OpcUa-Client",
        "z": "0285aea373c5d1c1",
        "endpoint": "60f59919c81ae75b",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 520,
        "y": 300,
        "wires": [
            [
                "b847334523f9e34e"
            ],
            []
        ]
    },
    {
        "id": "69e3696850ff7c61",
        "type": "OpcUa-Client",
        "z": "0285aea373c5d1c1",
        "endpoint": "60f59919c81ae75b",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 520,
        "y": 360,
        "wires": [
            [
                "4cad89084fef1c2d"
            ],
            []
        ]
    },
    {
        "id": "d93dd17ad9cdd0ea",
        "type": "OpcUa-Client",
        "z": "0285aea373c5d1c1",
        "endpoint": "60f59919c81ae75b",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 520,
        "y": 420,
        "wires": [
            [
                "a2b02a3d370b5827"
            ],
            []
        ]
    },
    {
        "id": "c9c5ce42d687cfac",
        "type": "OpcUa-Client",
        "z": "0285aea373c5d1c1",
        "endpoint": "60f59919c81ae75b",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 520,
        "y": 480,
        "wires": [
            [
                "32d3a7fae80feb80"
            ],
            []
        ]
    },
    {
        "id": "0dfa89e705caaf45",
        "type": "OpcUa-Client",
        "z": "0285aea373c5d1c1",
        "endpoint": "60f59919c81ae75b",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 520,
        "y": 540,
        "wires": [
            [
                "3105734120713f39"
            ],
            []
        ]
    },
    {
        "id": "90dbf604fb1975cc",
        "type": "OpcUa-Client",
        "z": "0285aea373c5d1c1",
        "endpoint": "60f59919c81ae75b",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 520,
        "y": 620,
        "wires": [
            [
                "5bd847d73700d965"
            ],
            []
        ]
    },
    {
        "id": "7557601018dcb410",
        "type": "OpcUa-Client",
        "z": "0285aea373c5d1c1",
        "endpoint": "60f59919c81ae75b",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 520,
        "y": 680,
        "wires": [
            [
                "5634fd803726fa72"
            ],
            []
        ]
    },
    {
        "id": "8adbb2b5c1833f91",
        "type": "OpcUa-Client",
        "z": "0285aea373c5d1c1",
        "endpoint": "60f59919c81ae75b",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 520,
        "y": 740,
        "wires": [
            [
                "4a1236535c2239cd"
            ],
            []
        ]
    },
    {
        "id": "7f66816b514238f0",
        "type": "OpcUa-Client",
        "z": "0285aea373c5d1c1",
        "endpoint": "60f59919c81ae75b",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 520,
        "y": 800,
        "wires": [
            [
                "a4a837b19717b91b"
            ],
            []
        ]
    },
    {
        "id": "0aa5f6d855097ea8",
        "type": "OpcUa-Client",
        "z": "0285aea373c5d1c1",
        "endpoint": "60f59919c81ae75b",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 520,
        "y": 860,
        "wires": [
            [
                "b1443748c98615e5"
            ],
            []
        ]
    },
    {
        "id": "e7bacf119fcebfc5",
        "type": "OpcUa-Client",
        "z": "0285aea373c5d1c1",
        "endpoint": "60f59919c81ae75b",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 520,
        "y": 920,
        "wires": [
            [
                "f6d2793dd5c9413e"
            ],
            []
        ]
    },
    {
        "id": "8916d4a9e901035c",
        "type": "OpcUa-Client",
        "z": "0285aea373c5d1c1",
        "endpoint": "60f59919c81ae75b",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 520,
        "y": 980,
        "wires": [
            [
                "7fd14a3027c0d5b2"
            ],
            []
        ]
    },
    {
        "id": "0c2ae2d3b329079f",
        "type": "OpcUa-Client",
        "z": "0285aea373c5d1c1",
        "endpoint": "60f59919c81ae75b",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 520,
        "y": 1040,
        "wires": [
            [
                "101e3b0c9dcd57c0"
            ],
            []
        ]
    },
    {
        "id": "184311b5b4a1266a",
        "type": "OpcUa-Client",
        "z": "0285aea373c5d1c1",
        "endpoint": "83439742.083188",
        "action": "write",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 1380,
        "y": 860,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "332dea8df09995f8",
        "type": "function",
        "z": "110bfa76dcc30adb",
        "name": "function 1",
        "func": "msg.payload = Math.random() * 80 + 20;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 240,
        "wires": [
            [
                "9601fc2c76798ab2"
            ]
        ]
    },
    {
        "id": "82ce3172afa40b71",
        "type": "inject",
        "z": "110bfa76dcc30adb",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 350,
        "y": 240,
        "wires": [
            [
                "332dea8df09995f8"
            ]
        ]
    },
    {
        "id": "9601fc2c76798ab2",
        "type": "ui_chart",
        "z": "110bfa76dcc30adb",
        "name": "",
        "group": "fe81f6e255688ce6",
        "order": 19,
        "width": "10",
        "height": "10",
        "label": "chart",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "30",
        "removeOlderPoints": "",
        "removeOlderUnit": "1",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 770,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "5726c05bba5cfd4e",
        "type": "ui_table",
        "z": "8bbb7658dea8df3b",
        "group": "7fe3b5e9e04dec0e",
        "name": "",
        "order": 5,
        "width": 10,
        "height": 5,
        "columns": [],
        "outputs": 1,
        "cts": true,
        "x": 990,
        "y": 420,
        "wires": [
            [
                "6932b99d26707fd0",
                "8e832ad04bbdb2da",
                "ed45dc10c16f0ab0"
            ]
        ]
    },
    {
        "id": "d22a86b5658473cc",
        "type": "mysql",
        "z": "8bbb7658dea8df3b",
        "mydb": "e79f82358a5cac41",
        "name": "opcart_db",
        "x": 840,
        "y": 420,
        "wires": [
            [
                "5726c05bba5cfd4e"
            ]
        ]
    },
    {
        "id": "1d042b6e30bd84a3",
        "type": "function",
        "z": "8bbb7658dea8df3b",
        "name": "訂單資訊",
        "func": "msg.topic = `select concat(lastname,firstname) as '客戶名稱',\n            order_id as '訂單編號',\n            total as '金額'\n            from oc_order\n            where order_status_id = `+ msg.payload + ''\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 420,
        "wires": [
            [
                "d22a86b5658473cc"
            ]
        ]
    },
    {
        "id": "6d8f9f790f83f96c",
        "type": "inject",
        "z": "8bbb7658dea8df3b",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "x": 70,
        "y": 520,
        "wires": [
            [
                "6d2058945f9217a4",
                "800eafd11b9e8c86"
            ]
        ]
    },
    {
        "id": "8824b3ae974d6f3d",
        "type": "mysql",
        "z": "8bbb7658dea8df3b",
        "mydb": "e79f82358a5cac41",
        "name": "opcart_db",
        "x": 1040,
        "y": 500,
        "wires": [
            [
                "1f4f176fbb2ddb84"
            ]
        ]
    },
    {
        "id": "c03744d18c26b2f1",
        "type": "ui_table",
        "z": "8bbb7658dea8df3b",
        "group": "7fe3b5e9e04dec0e",
        "name": "",
        "order": 14,
        "width": 10,
        "height": 4,
        "columns": [],
        "outputs": 1,
        "cts": true,
        "x": 1370,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "88d56136dd4b7b71",
        "type": "ui_text",
        "z": "8bbb7658dea8df3b",
        "group": "7fe3b5e9e04dec0e",
        "order": 2,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "",
        "format": "待生產訂單清單",
        "layout": "col-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 690,
        "y": 40,
        "wires": []
    },
    {
        "id": "6932b99d26707fd0",
        "type": "ui_text",
        "z": "8bbb7658dea8df3b",
        "group": "7fe3b5e9e04dec0e",
        "order": 12,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "",
        "format": "訂單編號：{{msg.payload[\"訂單編號\"]}} 明細資料",
        "layout": "col-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1190,
        "y": 340,
        "wires": []
    },
    {
        "id": "dd1f4d47cda8f0d7",
        "type": "ui_button",
        "z": "8bbb7658dea8df3b",
        "name": "",
        "group": "7fe3b5e9e04dec0e",
        "order": 15,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "排入待生產",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 70,
        "y": 640,
        "wires": [
            [
                "c4f7d9d869abdf7d"
            ]
        ]
    },
    {
        "id": "5249380c3bfc28c3",
        "type": "inject",
        "z": "8bbb7658dea8df3b",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "x": 90,
        "y": 40,
        "wires": [
            [
                "feb72d77aa87506f"
            ]
        ]
    },
    {
        "id": "feb72d77aa87506f",
        "type": "function",
        "z": "8bbb7658dea8df3b",
        "name": "initial global variables",
        "func": "global.set('order_id', -1);\nglobal.set('wip_id', -1);\nglobal.set('order_product', []);\nglobal.set('auto', false);\nglobal.set('check_process_time', false);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "8eb045c28fafdac9",
        "type": "function",
        "z": "8bbb7658dea8df3b",
        "name": "keep oc_order_product",
        "func": "global.set('order_product', msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1430,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "6d2058945f9217a4",
        "type": "function",
        "z": "8bbb7658dea8df3b",
        "name": "待投料的產品資訊",
        "func": "msg.topic = `select wip_id as '待生產編號', order_id as '訂單編號', product_id as '產品編號', product_name as '產品名稱', quantity as '數量',COALESCE(option_value, 0) AS '產品蓋印次數'\n            from wip_order_product`;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1390,
        "y": 700,
        "wires": [
            [
                "b077c26fbb70abf7"
            ]
        ]
    },
    {
        "id": "b077c26fbb70abf7",
        "type": "mysql",
        "z": "8bbb7658dea8df3b",
        "mydb": "e79f82358a5cac41",
        "name": "opcart_db",
        "x": 1580,
        "y": 700,
        "wires": [
            [
                "ab7b8e9c5a015cab"
            ]
        ]
    },
    {
        "id": "ab7b8e9c5a015cab",
        "type": "ui_table",
        "z": "8bbb7658dea8df3b",
        "group": "7fe3b5e9e04dec0e",
        "name": "",
        "order": 23,
        "width": 10,
        "height": 9,
        "columns": [],
        "outputs": 1,
        "cts": true,
        "x": 1710,
        "y": 700,
        "wires": [
            [
                "e23db83bd1a0e2ed",
                "8ddc4112c0c2228f",
                "5b71f0558c70ace9",
                "1c2c9893f281d0dd"
            ]
        ]
    },
    {
        "id": "8ddc4112c0c2228f",
        "type": "ui_text",
        "z": "8bbb7658dea8df3b",
        "group": "7fe3b5e9e04dec0e",
        "order": 20,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "",
        "format": "待生產編號：{{msg.payload[\"待生產編號\"]}}",
        "layout": "col-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1890,
        "y": 640,
        "wires": []
    },
    {
        "id": "7a16fea1439a8c35",
        "type": "mysql",
        "z": "8bbb7658dea8df3b",
        "mydb": "e79f82358a5cac41",
        "name": "opcart_db",
        "x": 940,
        "y": 640,
        "wires": [
            [
                "1d042b6e30bd84a3",
                "6d2058945f9217a4",
                "2cb11d7b7ec66ec6"
            ]
        ]
    },
    {
        "id": "be81becdcb0b41d8",
        "type": "split",
        "z": "8bbb7658dea8df3b",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": "1",
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 450,
        "y": 640,
        "wires": [
            [
                "dcc4152604ce5994"
            ]
        ]
    },
    {
        "id": "dcc4152604ce5994",
        "type": "function",
        "z": "8bbb7658dea8df3b",
        "name": "擷取每一筆SQL, insert wip_order_product",
        "func": "let payload = msg.payload;\nmsg.topic = payload.topic\nmsg.payload = payload.payload\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 640,
        "wires": [
            [
                "7a16fea1439a8c35"
            ]
        ]
    },
    {
        "id": "2cb11d7b7ec66ec6",
        "type": "function",
        "z": "8bbb7658dea8df3b",
        "name": "清除訂單明細",
        "func": "msg.topic = `select  oc_order_product.order_id as '訂單編號', oc_order_product.product_id as '產品編號', oc_order_product.name as '產品名稱', oc_order_product.quantity as '數量',COALESCE(oc_order_option.value, 0) AS '產品蓋印次數'\n            from oc_order_product \n            left join oc_order_option on oc_order_product.order_id = oc_order_option.order_id and oc_order_product.order_product_id = oc_order_option.order_product_id  \n            where oc_order_product.order_id=-1`;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1220,
        "y": 640,
        "wires": [
            [
                "8824b3ae974d6f3d"
            ]
        ]
    },
    {
        "id": "24241c1285bf5893",
        "type": "ui_button",
        "z": "8bbb7658dea8df3b",
        "name": "",
        "group": "7fe3b5e9e04dec0e",
        "order": 24,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "取消生產",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 60,
        "y": 760,
        "wires": [
            [
                "c996c37147c8cbb1"
            ]
        ]
    },
    {
        "id": "c996c37147c8cbb1",
        "type": "function",
        "z": "8bbb7658dea8df3b",
        "name": "產生多筆更新SQL",
        "func": "let order_id = global.get('order_id');\nlet messages = [];\nif (order_id >= 0)\n{\n   \n    messages.push({topic: 'delete from wip_order_product where order_id = ?', payload: [order_id]})\n    messages.push({ topic: 'insert into oc_order_history(order_id, order_status_id, notify, comment, date_added) values(?, 1, 0, \"\", now())', payload: [order_id]})\n    messages.push({ topic: 'update oc_order set order_status_id = 1 where order_id = ?', payload: [order_id]})\n}\n\n\n\nmsg.payload = messages;\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 780,
        "wires": [
            [
                "bd4a0ac063a145fc"
            ]
        ]
    },
    {
        "id": "e23db83bd1a0e2ed",
        "type": "function",
        "z": "8bbb7658dea8df3b",
        "name": "global.order_id",
        "func": "if (msg)\n{\n    global.set('order_id', msg.payload[\"訂單編號\"]);\n    global.set('wip_id', msg.payload[\"待生產編號\"]);\n}\nelse {\n    global.set('order_id', -1);\n    global.set('wip_id', -1);\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1920,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "bd4a0ac063a145fc",
        "type": "split",
        "z": "8bbb7658dea8df3b",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": "1",
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 530,
        "y": 780,
        "wires": [
            [
                "d1c6a6323c613af8"
            ]
        ]
    },
    {
        "id": "d1c6a6323c613af8",
        "type": "function",
        "z": "8bbb7658dea8df3b",
        "name": "擷取每一筆SQL, insert wip_order_product",
        "func": "let payload = msg.payload;\nmsg.topic = payload.topic\nmsg.payload = payload.payload\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 800,
        "y": 780,
        "wires": [
            [
                "8f81d15a6f1ae62b"
            ]
        ]
    },
    {
        "id": "8f81d15a6f1ae62b",
        "type": "mysql",
        "z": "8bbb7658dea8df3b",
        "mydb": "e79f82358a5cac41",
        "name": "opcart_db",
        "x": 1060,
        "y": 780,
        "wires": [
            [
                "1d042b6e30bd84a3",
                "6d2058945f9217a4"
            ]
        ]
    },
    {
        "id": "d7993cc6757905d1",
        "type": "inject",
        "z": "8bbb7658dea8df3b",
        "name": "Get!",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 1600,
        "wires": [
            [
                "1c24ed90ad5c7da8"
            ]
        ]
    },
    {
        "id": "df90efd091413f98",
        "type": "function",
        "z": "8bbb7658dea8df3b",
        "name": "計算良率",
        "func": "let ng = msg.payload[7];\nlet good = msg.payload[6];\nif ((ng + good) > 0)\n{\n    msg.payload = Math.floor((good / (ng+good)) * 100);\n}\nelse {\n    msg.payload = 0;\n}\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 1720,
        "wires": [
            [
                "8df163236329e326"
            ]
        ]
    },
    {
        "id": "2fc4664a35af1de1",
        "type": "modbus-response",
        "z": "8bbb7658dea8df3b",
        "name": "",
        "registerShowMax": "20",
        "x": 630,
        "y": 1380,
        "wires": []
    },
    {
        "id": "1c24ed90ad5c7da8",
        "type": "modbus-getter",
        "z": "8bbb7658dea8df3b",
        "name": "Manual Getter FC3",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "logIOActivities": false,
        "unitid": "",
        "dataType": "HoldingRegister",
        "adr": "0",
        "quantity": "30",
        "server": "352955bb.be6e6a",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": true,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 310,
        "y": 1600,
        "wires": [
            [
                "cd8ca677fc4d1bce",
                "f52a1878d264b1ef",
                "801c781ec1d7c362",
                "e4303849a84b8fde",
                "f0c8c62099f2bd73",
                "df90efd091413f98",
                "73aa0c9195608e93",
                "29c7d0af5cd632b0",
                "58547cd60dfa250e",
                "15ec7b9f46512f82",
                "be4149907f27b574",
                "9bf88913a9470e35",
                "745cdd9b63235fac",
                "12042cca338dbf3f",
                "d66febe5c8912921"
            ],
            [
                "2fc4664a35af1de1"
            ]
        ]
    },
    {
        "id": "73aa0c9195608e93",
        "type": "ui_text",
        "z": "8bbb7658dea8df3b",
        "group": "c5c63a09432b4014",
        "order": 10,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "產品加工時間(秒)",
        "format": "{{msg.payload[2]}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 650,
        "y": 1500,
        "wires": []
    },
    {
        "id": "cd8ca677fc4d1bce",
        "type": "ui_text",
        "z": "8bbb7658dea8df3b",
        "group": "c5c63a09432b4014",
        "order": 9,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "已生產數量",
        "format": "{{msg.payload[5]}}",
        "layout": "row-spread",
        "className": "",
        "style": true,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 630,
        "y": 1540,
        "wires": []
    },
    {
        "id": "f52a1878d264b1ef",
        "type": "ui_text",
        "z": "8bbb7658dea8df3b",
        "group": "c5c63a09432b4014",
        "order": 5,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "待生產數量",
        "format": "{{msg.payload[0]}}",
        "layout": "row-spread",
        "className": "",
        "style": true,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 610,
        "y": 1440,
        "wires": []
    },
    {
        "id": "801c781ec1d7c362",
        "type": "ui_text",
        "z": "8bbb7658dea8df3b",
        "group": "c5c63a09432b4014",
        "order": 19,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "單一產品加工時間(秒)",
        "format": "{{msg.payload[2]}}",
        "layout": "row-spread",
        "className": "",
        "style": true,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 660,
        "y": 1660,
        "wires": []
    },
    {
        "id": "e4303849a84b8fde",
        "type": "ui_text",
        "z": "8bbb7658dea8df3b",
        "group": "c5c63a09432b4014",
        "order": 12,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "瑕疪品數量",
        "format": "{{msg.payload[7]}}",
        "layout": "row-spread",
        "className": "",
        "style": true,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 630,
        "y": 1580,
        "wires": []
    },
    {
        "id": "f0c8c62099f2bd73",
        "type": "ui_text",
        "z": "8bbb7658dea8df3b",
        "group": "c5c63a09432b4014",
        "order": 16,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "良品數量",
        "format": "{{msg.payload[6]}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 620,
        "y": 1620,
        "wires": []
    },
    {
        "id": "8df163236329e326",
        "type": "ui_gauge",
        "z": "8bbb7658dea8df3b",
        "name": "",
        "group": "c5c63a09432b4014",
        "order": 23,
        "width": 6,
        "height": 4,
        "gtype": "gage",
        "title": "良率",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 790,
        "y": 1720,
        "wires": []
    },
    {
        "id": "5b71f0558c70ace9",
        "type": "function",
        "z": "8bbb7658dea8df3b",
        "name": "global.address_0",
        "func": "global.set('address_0', msg.payload[\"數量\"]);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1930,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "1c2c9893f281d0dd",
        "type": "function",
        "z": "8bbb7658dea8df3b",
        "name": "global.address_4",
        "func": "global.set('address_4', msg.payload[\"產品蓋印次數\"]);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1930,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "29c7d0af5cd632b0",
        "type": "function",
        "z": "8bbb7658dea8df3b",
        "name": "Sync Modbus Memory",
        "func": "global.set('ModbusMem', msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 1320,
        "wires": [
            []
        ]
    },
    {
        "id": "58547cd60dfa250e",
        "type": "function",
        "z": "8bbb7658dea8df3b",
        "name": "更新 guage max value",
        "func": "let max = msg.payload[24];\nmsg.payload = msg.payload[26];\nmsg.ui_control = { \"min\": 0, \"max\": max };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 1780,
        "wires": [
            [
                "84144fa133b142ea"
            ]
        ]
    },
    {
        "id": "15ec7b9f46512f82",
        "type": "function",
        "z": "8bbb7658dea8df3b",
        "name": "控警示燈",
        "func": "if (msg.payload[26] > msg.payload[25]) {\n    msg.payload = 'lime';\n} else {\n    msg.payload = 'red';\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 1840,
        "wires": [
            [
                "d3f51ce4ba02aac2"
            ]
        ]
    },
    {
        "id": "0508703b08356b56",
        "type": "ui_text",
        "z": "8bbb7658dea8df3b",
        "group": "c41e449c4381c34f",
        "order": 3,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "機台磨損",
        "format": "",
        "layout": "row-spread",
        "className": "",
        "style": true,
        "font": "Arial,Arial,Helvetica,sans-serif",
        "fontSize": "32",
        "color": "#0080ff",
        "x": 980,
        "y": 1740,
        "wires": []
    },
    {
        "id": "5ac837b678d90b1d",
        "type": "ui_text",
        "z": "8bbb7658dea8df3b",
        "group": "c41e449c4381c34f",
        "order": 7,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "請更換印頭",
        "format": "",
        "layout": "row-left",
        "className": "",
        "style": true,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1130,
        "y": 1740,
        "wires": []
    },
    {
        "id": "9bf88913a9470e35",
        "type": "ui_text",
        "z": "8bbb7658dea8df3b",
        "group": "c41e449c4381c34f",
        "order": 12,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "蓋印頭庫存初始數量(address 24)",
        "format": "{{msg.payload[24]}}",
        "layout": "row-spread",
        "className": "",
        "style": true,
        "font": "",
        "fontSize": 16,
        "color": "#ff0000",
        "x": 920,
        "y": 1440,
        "wires": []
    },
    {
        "id": "745cdd9b63235fac",
        "type": "ui_text",
        "z": "8bbb7658dea8df3b",
        "group": "c41e449c4381c34f",
        "order": 14,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "警示數量(address 25)",
        "format": "{{msg.payload[25]}}",
        "layout": "row-spread",
        "className": "",
        "style": true,
        "font": "",
        "fontSize": 16,
        "color": "#ff0000",
        "x": 880,
        "y": 1480,
        "wires": []
    },
    {
        "id": "12042cca338dbf3f",
        "type": "ui_text",
        "z": "8bbb7658dea8df3b",
        "group": "c41e449c4381c34f",
        "order": 15,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "警示燈號(address 15)",
        "format": "{{msg.payload[15]}}",
        "layout": "row-spread",
        "className": "",
        "style": true,
        "font": "",
        "fontSize": 16,
        "color": "#ff0000",
        "x": 900,
        "y": 1520,
        "wires": []
    },
    {
        "id": "be4149907f27b574",
        "type": "ui_text",
        "z": "8bbb7658dea8df3b",
        "group": "c41e449c4381c34f",
        "order": 11,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "蓋印頭庫存實際數量(address 26)",
        "format": "{{msg.payload[26]}}",
        "layout": "row-spread",
        "className": "",
        "style": true,
        "font": "",
        "fontSize": 16,
        "color": "#ff0000",
        "x": 960,
        "y": 1640,
        "wires": []
    },
    {
        "id": "84144fa133b142ea",
        "type": "ui_gauge",
        "z": "8bbb7658dea8df3b",
        "name": "",
        "group": "c41e449c4381c34f",
        "order": 10,
        "width": 5,
        "height": 5,
        "gtype": "gage",
        "title": "蓋印頭剩餘次數",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "10",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 1000,
        "y": 1780,
        "wires": []
    },
    {
        "id": "d3f51ce4ba02aac2",
        "type": "ui_template",
        "z": "8bbb7658dea8df3b",
        "group": "c41e449c4381c34f",
        "name": "",
        "order": 8,
        "width": 1,
        "height": 1,
        "format": "<div\n    style=\"border: 1px solid black; border-radius: 100%; background-color: {{msg.payload}}; width: 20px; height: 20px;margin:10px auto\">\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 820,
        "y": 1820,
        "wires": [
            []
        ]
    },
    {
        "id": "d66febe5c8912921",
        "type": "ui_text",
        "z": "8bbb7658dea8df3b",
        "group": "c41e449c4381c34f",
        "order": 13,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "在製品所需蓋印次數(address 4)",
        "format": "{{msg.payload[4]}}",
        "layout": "row-spread",
        "className": "",
        "style": true,
        "font": "",
        "fontSize": 16,
        "color": "#ff0000",
        "x": 930,
        "y": 1580,
        "wires": []
    },
    {
        "id": "8e832ad04bbdb2da",
        "type": "function",
        "z": "8bbb7658dea8df3b",
        "name": "訂單明細",
        "func": "msg.topic = ` SELECT oc_order_product.order_id as '訂單編號', oc_order_product.product_id as '產品編號', oc_order_product.name as '產品名稱', oc_order_product.quantity  as '數量', COALESCE(oc_order_option.value, '') AS '選項', COALESCE(oc_product_option_value.quantity, 0) AS '產品蓋印次數'\nFROM oc_order_product\nleft join oc_order_option on oc_order_product.order_id = oc_order_option.order_id and oc_order_product.order_product_id = oc_order_option.order_product_id \nleft join oc_product_option on oc_order_product.product_id = oc_product_option.product_id and oc_order_product.order_product_id = oc_product_option.product_option_id\nleft join oc_product_option_value on oc_order_option.product_option_value_id = oc_product_option_value.product_option_value_id \nwhere oc_order_product.order_id= ` + msg.payload[\"訂單編號\"] + \" order by oc_order_option.product_option_id \"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 500,
        "wires": [
            [
                "8824b3ae974d6f3d"
            ]
        ]
    },
    {
        "id": "1f4f176fbb2ddb84",
        "type": "function",
        "z": "8bbb7658dea8df3b",
        "name": "filter data",
        "func": "let records = msg.payload;\nlet new_records = [];\nfor (let i = 0; i < records.length; i++) {\n    if (records[i]['選項'] != 'NoProcess')\n    {\n        new_records.push(records[i]);\n    }\n}\nmsg.payload = new_records;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1200,
        "y": 500,
        "wires": [
            [
                "c03744d18c26b2f1",
                "8eb045c28fafdac9"
            ]
        ]
    },
    {
        "id": "3a6c8af9cc8a454d",
        "type": "ui_dropdown",
        "z": "8bbb7658dea8df3b",
        "name": "",
        "label": "",
        "tooltip": "",
        "place": "Select option",
        "group": "7fe3b5e9e04dec0e",
        "order": 3,
        "width": 4,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "Pending",
                "value": 1,
                "type": "num"
            },
            {
                "label": "Urgent",
                "value": 17,
                "type": "num"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 520,
        "y": 420,
        "wires": [
            [
                "1d042b6e30bd84a3"
            ]
        ]
    },
    {
        "id": "f9e04eaff5a8bfb3",
        "type": "ui_button",
        "z": "8bbb7658dea8df3b",
        "name": "",
        "group": "7fe3b5e9e04dec0e",
        "order": 6,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "加急",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 70,
        "y": 120,
        "wires": [
            [
                "96852c45c0559a83"
            ]
        ]
    },
    {
        "id": "e9018a996d6ba5d3",
        "type": "ui_button",
        "z": "8bbb7658dea8df3b",
        "name": "",
        "group": "7fe3b5e9e04dec0e",
        "order": 7,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "取消加急",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 60,
        "y": 160,
        "wires": [
            [
                "b8743d9493a51c6e"
            ]
        ]
    },
    {
        "id": "ed45dc10c16f0ab0",
        "type": "function",
        "z": "8bbb7658dea8df3b",
        "name": "global.set('order_id')",
        "func": "global.set('order_id', msg.payload[\"訂單編號\"]);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1240,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "6429584ed3d1a7be",
        "type": "mysql",
        "z": "8bbb7658dea8df3b",
        "mydb": "e79f82358a5cac41",
        "name": "opcart_db",
        "x": 740,
        "y": 120,
        "wires": [
            [
                "cff19e4d84c54d53"
            ]
        ]
    },
    {
        "id": "800eafd11b9e8c86",
        "type": "function",
        "z": "8bbb7658dea8df3b",
        "name": "pending",
        "func": "msg.payload = 1\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 420,
        "wires": [
            [
                "3a6c8af9cc8a454d"
            ]
        ]
    },
    {
        "id": "cff19e4d84c54d53",
        "type": "function",
        "z": "8bbb7658dea8df3b",
        "name": "urgent",
        "func": "msg.payload = 17\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 570,
        "y": 300,
        "wires": [
            [
                "3a6c8af9cc8a454d"
            ]
        ]
    },
    {
        "id": "c4f7d9d869abdf7d",
        "type": "function",
        "z": "8bbb7658dea8df3b",
        "name": "Multi-Statement",
        "func": "let records = global.get('order_product');\n\nlet messages = [];\n\nlet msgRecord0 = {\n    topic: 'START TRANSACTION',\n    payload: []\n};\nmessages.push(msgRecord0);\n\nlet msgRecord1 = {\n    topic: 'update oc_order set order_status_id = 2 where order_id = ?',\n    payload: [records[0]['訂單編號']]\n};\nmessages.push(msgRecord1);\n\nlet msgRecord2 = {\n    topic: 'insert into oc_order_history(order_id, order_status_id, notify, comment, date_added) values(?, 2, 0, \"\", now())',\n    payload: [records[0]['訂單編號']]\n};\nmessages.push(msgRecord2);\n\nfor (let i = 0; i < records.length; i++) {\n    let order_id = records[i]['訂單編號'];\n    let product_id = records[i]['產品編號'];\n    let product_name = records[i]['產品名稱'];\n    let quantity = records[i]['數量'];\n    let option_value = records[i]['產品蓋印次數'];\n\n    // Create a new message object for each record\n    let msgRecord = {\n        topic: 'INSERT INTO wip_order_product (order_id, product_id, product_name, quantity, option_value, status, processed_qty, ok_qty, ng_qty, process_time) VALUES (?,?,?,?,?,?,?,?,?,?)',\n        payload: [order_id, product_id, product_name, quantity, option_value, 0, 0, 0, 0, 0]\n    };\n\n    // Push the new message object to the array\n    messages.push(msgRecord);\n}\nlet msgRecord3 = {\n    topic: 'COMMIT',\n    payload: []\n};\nmessages.push(msgRecord3);\n\nmsg.payload = messages;\nreturn msg;\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 640,
        "wires": [
            [
                "be81becdcb0b41d8"
            ]
        ]
    },
    {
        "id": "96852c45c0559a83",
        "type": "function",
        "z": "8bbb7658dea8df3b",
        "name": "加急",
        "func": "let records = global.get('order_product');\n\nlet messages = [];\n\nif (global.get('order_id') >= 0) {\n\n    let msgRecord0 = {\n        topic: 'START TRANSACTION',\n        payload: []\n    };\n    messages.push(msgRecord0);\n\n    let msgRecord1 = {\n        topic: 'update oc_order set order_status_id = 17 where order_id = ? and order_status_id=1',\n        payload: [global.get('order_id')]\n    };\n    messages.push(msgRecord1);\n\n    let msgRecord2 = {\n        topic: 'insert into oc_order_history(order_id, order_status_id, notify, comment, date_added) values(?, 17, 0, \"\", now())',\n        payload: [global.get('order_id')]\n    };\n    messages.push(msgRecord2);\n\n    let msgRecord3 = {\n        topic: 'COMMIT',\n        payload: []\n    };\n    messages.push(msgRecord3);\n\n}\n\nmsg.payload = messages;\nreturn msg;\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 230,
        "y": 120,
        "wires": [
            [
                "fe551e2e6aad8514"
            ]
        ]
    },
    {
        "id": "fe551e2e6aad8514",
        "type": "split",
        "z": "8bbb7658dea8df3b",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 370,
        "y": 120,
        "wires": [
            [
                "4a77498ef5db3499"
            ]
        ]
    },
    {
        "id": "4a77498ef5db3499",
        "type": "function",
        "z": "8bbb7658dea8df3b",
        "name": "擷取每一筆SQL",
        "func": "let payload = msg.payload;\nmsg.topic = payload.topic\nmsg.payload = payload.payload\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 540,
        "y": 120,
        "wires": [
            [
                "6429584ed3d1a7be"
            ]
        ]
    },
    {
        "id": "b8743d9493a51c6e",
        "type": "function",
        "z": "8bbb7658dea8df3b",
        "name": "取消加急",
        "func": "let records = global.get('order_product');\n\nlet messages = [];\n\nif (global.get('order_id') >= 0) {\n\n    let msgRecord0 = {\n        topic: 'START TRANSACTION',\n        payload: []\n    };\n    messages.push(msgRecord0);\n\n    let msgRecord1 = {\n        topic: 'update oc_order set order_status_id = 1 where order_id = ? and order_status_id=17',\n        payload: [global.get('order_id')]\n    };\n    messages.push(msgRecord1);\n\n    let msgRecord2 = {\n        topic: 'insert into oc_order_history(order_id, order_status_id, notify, comment, date_added) values(?, 1, 0, \"\", now())',\n        payload: [global.get('order_id')]\n    };\n    messages.push(msgRecord2);\n\n    let msgRecord3 = {\n        topic: 'COMMIT',\n        payload: []\n    };\n    messages.push(msgRecord3);\n\n}\n\nmsg.payload = messages;\nreturn msg;\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 160,
        "wires": [
            [
                "fad925b38a19cacd"
            ]
        ]
    },
    {
        "id": "fad925b38a19cacd",
        "type": "split",
        "z": "8bbb7658dea8df3b",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 370,
        "y": 160,
        "wires": [
            [
                "4966461b70324aa3"
            ]
        ]
    },
    {
        "id": "4966461b70324aa3",
        "type": "function",
        "z": "8bbb7658dea8df3b",
        "name": "擷取每一筆SQL",
        "func": "let payload = msg.payload;\nmsg.topic = payload.topic\nmsg.payload = payload.payload\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 160,
        "wires": [
            [
                "487c249f459c821d"
            ]
        ]
    },
    {
        "id": "487c249f459c821d",
        "type": "mysql",
        "z": "8bbb7658dea8df3b",
        "mydb": "e79f82358a5cac41",
        "name": "opcart_db",
        "x": 740,
        "y": 160,
        "wires": [
            [
                "800eafd11b9e8c86"
            ]
        ]
    },
    {
        "id": "b3720d872521162e",
        "type": "function",
        "z": "e00888440fdbb773",
        "name": "Write 26 on Unit 1 FC6",
        "func": "let val = global.get('address_26');\nif (val > 0) {\n    val -= 1;\n    global.get('address_26', val);\n}\nmsg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 26 , 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 60,
        "wires": [
            [
                "3637df03090c7621"
            ]
        ]
    },
    {
        "id": "3637df03090c7621",
        "type": "modbus-flex-write",
        "z": "e00888440fdbb773",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "352955bb.be6e6a",
        "emptyMsgOnFail": true,
        "keepMsgProperties": false,
        "x": 630,
        "y": 60,
        "wires": [
            [],
            [
                "e938561b2824af8e"
            ]
        ]
    },
    {
        "id": "e938561b2824af8e",
        "type": "modbus-response",
        "z": "e00888440fdbb773",
        "name": "",
        "registerShowMax": 20,
        "x": 870,
        "y": 60,
        "wires": []
    },
    {
        "id": "47144f23f98daad3",
        "type": "ui_button",
        "z": "e00888440fdbb773",
        "name": "",
        "group": "c41e449c4381c34f",
        "order": 9,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "蓋印",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 170,
        "y": 60,
        "wires": [
            [
                "b3720d872521162e"
            ]
        ]
    },
    {
        "id": "e73a0ba6eb9c135a",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "加工時間+1",
        "func": "let flag = global.get('break_timer');\nlet val = global.get('intervalSeconds');\nif (flag == 0) {\n    val += 1;\n    global.set('intervalSeconds', val);\n    msg.payload = val;\n    return msg;\n}\nelse {\n    return null;\n}\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1810,
        "y": 220,
        "wires": [
            [
                "4c224941bb5f3d58",
                "a7235844066f9508"
            ]
        ]
    },
    {
        "id": "360f7a46ef087b2a",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "清除加工累計時間變數",
        "func": "global.set('intervalSeconds', 0);\nglobal.set('break_timer', 0);\nglobal.set('check_process_time', true);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 980,
        "y": 80,
        "wires": [
            [
                "4c9b772aa8c86728"
            ]
        ]
    },
    {
        "id": "553b53062e730993",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "更新待生產數量",
        "func": "let val = global.get('ModbusMem')[0];\nif (val > 0) {\n    val -= 1;\n}\nmsg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 0, 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 980,
        "y": 140,
        "wires": [
            [
                "0c5171740c129099"
            ]
        ]
    },
    {
        "id": "7373079e3be7e446",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "生產數量+1",
        "func": "let val = global.get('ModbusMem')[5];\nval += 1;\nmsg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 5, 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1010,
        "y": 200,
        "wires": [
            [
                "0c5171740c129099"
            ]
        ]
    },
    {
        "id": "4dd08ba5e1c7b295",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "待生產數量>0",
        "func": "let val = global.get('ModbusMem')[0];\nif (val > 0) {\n    global.set('error_message', '');\n    global.set('check_process_time', true);\n    global.set('intervalSeconds', 0);\n    global.set('break_timer', 1);\n    return msg;\n} else {\n    global.set('error_message', '待生產數量為0');\n    global.set('check_process_time', false);\n    global.set('break_timer', 1);\n    return null;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 80,
        "wires": [
            [
                "a9455d1ae9fec178"
            ]
        ]
    },
    {
        "id": "4c9b772aa8c86728",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "清除加工時間",
        "func": "msg.payload = { value: 0, 'fc': 6, 'unitid': 1, 'address': 2, 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1240,
        "y": 80,
        "wires": [
            [
                "0c5171740c129099"
            ]
        ]
    },
    {
        "id": "0c5171740c129099",
        "type": "modbus-flex-write",
        "z": "bcd1d87a6c8855b3",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "352955bb.be6e6a",
        "emptyMsgOnFail": true,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1810,
        "y": 80,
        "wires": [
            [],
            [
                "33acc9e53d2685db"
            ]
        ]
    },
    {
        "id": "33acc9e53d2685db",
        "type": "modbus-response",
        "z": "bcd1d87a6c8855b3",
        "name": "",
        "registerShowMax": 20,
        "x": 2030,
        "y": 60,
        "wires": []
    },
    {
        "id": "0190bf9050eb196e",
        "type": "ui_button",
        "z": "bcd1d87a6c8855b3",
        "name": "",
        "group": "c5c63a09432b4014",
        "order": 15,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "開始生產",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "start",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 140,
        "y": 80,
        "wires": [
            [
                "4dd08ba5e1c7b295"
            ]
        ]
    },
    {
        "id": "c006993780b51098",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "global.address_0",
        "func": "global.set('address_0', msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 950,
        "y": 1160,
        "wires": [
            []
        ]
    },
    {
        "id": "338db9596eb15e24",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "清除加工累計時間",
        "func": "msg.payload = { value: 0, 'fc': 6, 'unitid': 1, 'address': 2, 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 570,
        "y": 740,
        "wires": [
            [
                "7b88e95805a8426b"
            ]
        ]
    },
    {
        "id": "ed27732a04d1a68b",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "清除生產累計、良品累計、瑕疪品累計",
        "func": "let val = [0, 0, 0];\nmsg.payload = { value: val, 'fc': 16, 'unitid': 1, 'address': 5, 'quantity': 3 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 800,
        "wires": [
            [
                "7b88e95805a8426b"
            ]
        ]
    },
    {
        "id": "df04f357a3e29e39",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "Rest text input",
        "func": "msg.payload = 0;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 940,
        "wires": [
            [
                "cdd94d1bdcfa1395",
                "1b283a96dc3ab793"
            ]
        ]
    },
    {
        "id": "45f646226bc22730",
        "type": "ui_button",
        "z": "bcd1d87a6c8855b3",
        "name": "",
        "group": "c5c63a09432b4014",
        "order": 22,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "復歸",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 150,
        "y": 860,
        "wires": [
            [
                "338db9596eb15e24",
                "ed27732a04d1a68b",
                "df04f357a3e29e39",
                "5624c9f89e2f9255",
                "52eaec2ae3898aa1",
                "3d2642a4cd3d7037"
            ]
        ]
    },
    {
        "id": "cdd94d1bdcfa1395",
        "type": "ui_text_input",
        "z": "bcd1d87a6c8855b3",
        "name": "",
        "label": "",
        "tooltip": "",
        "group": "c5c63a09432b4014",
        "order": 3,
        "width": 3,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 690,
        "y": 1120,
        "wires": [
            [
                "c006993780b51098",
                "f88cba7329c28a69"
            ]
        ]
    },
    {
        "id": "f88cba7329c28a69",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "Write 0 on Unit 1 FC6",
        "func": "let val = global.get('address_0');\nmsg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 0 , 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 1280,
        "wires": [
            [
                "e7d298f29db89314"
            ]
        ]
    },
    {
        "id": "817575aa5899c032",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "檢測",
        "func": "if (msg.payload) {\n    msg.payload = '良品';\n    global.set('aoi', true);\n} else {\n    msg.payload = '不良品';\n    global.set('aoi', false);\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 1500,
        "wires": [
            [
                "ab9be462ea99efce"
            ]
        ]
    },
    {
        "id": "30f80e1109778db6",
        "type": "inject",
        "z": "bcd1d87a6c8855b3",
        "name": "Get!",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 1500,
        "wires": [
            [
                "bf761a9f4a0a2b2a"
            ]
        ]
    },
    {
        "id": "e7d298f29db89314",
        "type": "modbus-flex-write",
        "z": "bcd1d87a6c8855b3",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "352955bb.be6e6a",
        "emptyMsgOnFail": true,
        "keepMsgProperties": false,
        "x": 670,
        "y": 1340,
        "wires": [
            [],
            [
                "bc3fd1cd756d5009"
            ]
        ]
    },
    {
        "id": "bc3fd1cd756d5009",
        "type": "modbus-response",
        "z": "bcd1d87a6c8855b3",
        "name": "",
        "registerShowMax": 20,
        "x": 970,
        "y": 1340,
        "wires": []
    },
    {
        "id": "bf761a9f4a0a2b2a",
        "type": "ui_switch",
        "z": "bcd1d87a6c8855b3",
        "name": "",
        "label": "線上檢測結果",
        "tooltip": "",
        "group": "c5c63a09432b4014",
        "order": 13,
        "width": 4,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 320,
        "y": 1500,
        "wires": [
            [
                "817575aa5899c032"
            ]
        ]
    },
    {
        "id": "ab9be462ea99efce",
        "type": "ui_text",
        "z": "bcd1d87a6c8855b3",
        "group": "c5c63a09432b4014",
        "order": 14,
        "width": 2,
        "height": 1,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 630,
        "y": 1500,
        "wires": []
    },
    {
        "id": "12ea8633a164abe2",
        "type": "ui_switch",
        "z": "bcd1d87a6c8855b3",
        "name": "",
        "label": "全自動生產",
        "tooltip": "",
        "group": "c5c63a09432b4014",
        "order": 20,
        "width": 3,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 330,
        "y": 260,
        "wires": [
            [
                "873ff752162fc1e0",
                "15512e7ef50c1c42"
            ]
        ]
    },
    {
        "id": "873ff752162fc1e0",
        "type": "ui_text",
        "z": "bcd1d87a6c8855b3",
        "group": "c5c63a09432b4014",
        "order": 21,
        "width": 3,
        "height": 1,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-left",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 550,
        "y": 200,
        "wires": []
    },
    {
        "id": "fffcddb2cb06f13c",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "根據檢測結果，異動不良品累計或良品累計",
        "func": "global.set('break_timer', 1);\nlet aoi = global.get('aoi');\nif (aoi) {\n    let val = global.get(\"address_6\");\n    val += 1\n    msg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 6, 'quantity': 1 };\n} else {\n    let val = global.get(\"address_7\");\n    val += 1\n    msg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 7, 'quantity': 1 };\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 930,
        "y": 420,
        "wires": [
            [
                "d49cc1ac1f87fe4d",
                "ae34a879bc2303bf"
            ]
        ]
    },
    {
        "id": "d49cc1ac1f87fe4d",
        "type": "modbus-flex-write",
        "z": "bcd1d87a6c8855b3",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "352955bb.be6e6a",
        "emptyMsgOnFail": true,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1550,
        "y": 520,
        "wires": [
            [],
            [
                "67528c23e5b5e693"
            ]
        ]
    },
    {
        "id": "67528c23e5b5e693",
        "type": "modbus-response",
        "z": "bcd1d87a6c8855b3",
        "name": "",
        "registerShowMax": 20,
        "x": 1790,
        "y": 520,
        "wires": []
    },
    {
        "id": "4264173f3e30aba7",
        "type": "ui_button",
        "z": "bcd1d87a6c8855b3",
        "name": "",
        "group": "c5c63a09432b4014",
        "order": 18,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "停止生產",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "stop",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 360,
        "y": 480,
        "wires": [
            [
                "f253d4b9269ff469"
            ]
        ]
    },
    {
        "id": "fcb27e2659bde658",
        "type": "ui_text",
        "z": "bcd1d87a6c8855b3",
        "group": "c5c63a09432b4014",
        "order": 6,
        "width": 3,
        "height": 1,
        "name": "",
        "label": "蓋印次數",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1180,
        "y": 1500,
        "wires": []
    },
    {
        "id": "1b283a96dc3ab793",
        "type": "ui_text_input",
        "z": "bcd1d87a6c8855b3",
        "name": "",
        "label": "",
        "tooltip": "",
        "group": "c5c63a09432b4014",
        "order": 7,
        "width": 3,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 690,
        "y": 1180,
        "wires": [
            [
                "74e33df15a889b66",
                "60fb3bc339fe5846"
            ]
        ]
    },
    {
        "id": "74e33df15a889b66",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "global.address_4",
        "func": "global.set('address_4', msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 950,
        "y": 1220,
        "wires": [
            []
        ]
    },
    {
        "id": "60fb3bc339fe5846",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "Write 4 on Unit 1 FC6",
        "func": "let val = global.get('address_4');\nmsg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 4 , 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 1380,
        "wires": [
            [
                "e7d298f29db89314"
            ]
        ]
    },
    {
        "id": "da246153dbd65c22",
        "type": "ui_text_input",
        "z": "bcd1d87a6c8855b3",
        "name": "",
        "label": "",
        "tooltip": "",
        "group": "c41e449c4381c34f",
        "order": 6,
        "width": 2,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 930,
        "y": 940,
        "wires": [
            [
                "4169f7b2d765fcb5"
            ]
        ]
    },
    {
        "id": "2f246f5655dee92e",
        "type": "ui_text_input",
        "z": "bcd1d87a6c8855b3",
        "name": "",
        "label": "",
        "tooltip": "",
        "group": "c41e449c4381c34f",
        "order": 2,
        "width": 2,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 990,
        "y": 860,
        "wires": [
            [
                "7a7cd0a051f045e3"
            ]
        ]
    },
    {
        "id": "5624c9f89e2f9255",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "default 10",
        "func": "global.set('address_24', 10);\nmsg.payload = 10;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 920,
        "wires": [
            [
                "2f246f5655dee92e",
                "7a7cd0a051f045e3"
            ]
        ]
    },
    {
        "id": "52eaec2ae3898aa1",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "default 4",
        "func": "global.set('address_25', 4);\nmsg.payload = 4;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 980,
        "wires": [
            [
                "da246153dbd65c22",
                "4169f7b2d765fcb5"
            ]
        ]
    },
    {
        "id": "7a7cd0a051f045e3",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "Write 24 on Unit 1 FC6",
        "func": "let val = msg.payload;\nglobal.set('address_24', val);\nmsg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 24 , 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1150,
        "y": 920,
        "wires": [
            [
                "7b88e95805a8426b"
            ]
        ]
    },
    {
        "id": "7b88e95805a8426b",
        "type": "modbus-flex-write",
        "z": "bcd1d87a6c8855b3",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "352955bb.be6e6a",
        "emptyMsgOnFail": true,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1470,
        "y": 920,
        "wires": [
            [],
            [
                "beb148e9837061e6"
            ]
        ]
    },
    {
        "id": "beb148e9837061e6",
        "type": "modbus-response",
        "z": "bcd1d87a6c8855b3",
        "name": "",
        "registerShowMax": 20,
        "x": 1710,
        "y": 740,
        "wires": []
    },
    {
        "id": "4169f7b2d765fcb5",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "Write 25 on Unit 1 FC6",
        "func": "let val = msg.payload;\nglobal.set('address_25', val);\nmsg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 25 , 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1150,
        "y": 980,
        "wires": [
            [
                "7b88e95805a8426b"
            ]
        ]
    },
    {
        "id": "d536dd5461ba4316",
        "type": "ui_text",
        "z": "bcd1d87a6c8855b3",
        "group": "c5c63a09432b4014",
        "order": 2,
        "width": 3,
        "height": 1,
        "name": "",
        "label": "投入生產數量",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1220,
        "y": 1380,
        "wires": []
    },
    {
        "id": "4ee8f18b4fdd7038",
        "type": "ui_button",
        "z": "bcd1d87a6c8855b3",
        "name": "",
        "group": "7fe3b5e9e04dec0e",
        "order": 25,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "投入產線",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 80,
        "y": 1320,
        "wires": [
            [
                "60fb3bc339fe5846",
                "f88cba7329c28a69",
                "496684e13fe72c61",
                "6260048fe751af5b"
            ]
        ]
    },
    {
        "id": "496684e13fe72c61",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "global.get('address_0')",
        "func": "let val = global.get('address_0');\nmsg.payload = val;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 1120,
        "wires": [
            [
                "cdd94d1bdcfa1395"
            ]
        ]
    },
    {
        "id": "6260048fe751af5b",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "global.get('address_4')",
        "func": "let val = global.get('address_4')\nmsg.payload = val;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 1200,
        "wires": [
            [
                "1b283a96dc3ab793"
            ]
        ]
    },
    {
        "id": "ec5e06ed841781e0",
        "type": "ui_text",
        "z": "bcd1d87a6c8855b3",
        "group": "c41e449c4381c34f",
        "order": 5,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "警示數量",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1280,
        "y": 1120,
        "wires": []
    },
    {
        "id": "d6d1fbcadaafbe20",
        "type": "ui_text",
        "z": "bcd1d87a6c8855b3",
        "group": "c41e449c4381c34f",
        "order": 1,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "蓋印頭庫存初始數量",
        "format": "",
        "layout": "row-left",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1280,
        "y": 1300,
        "wires": []
    },
    {
        "id": "3d2642a4cd3d7037",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "Write 26 on Unit 1 FC6",
        "func": "let val = global.get('address_24');\nmsg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 26 , 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 1040,
        "wires": [
            [
                "7b88e95805a8426b"
            ]
        ]
    },
    {
        "id": "67559ca135d35bf8",
        "type": "ui_button",
        "z": "bcd1d87a6c8855b3",
        "name": "",
        "group": "c41e449c4381c34f",
        "order": 16,
        "width": 5,
        "height": 1,
        "passthru": false,
        "label": "更換完成",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 140,
        "y": 780,
        "wires": [
            [
                "3d2642a4cd3d7037",
                "5624c9f89e2f9255",
                "52eaec2ae3898aa1"
            ]
        ]
    },
    {
        "id": "a9455d1ae9fec178",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "Check 蓋印頭",
        "func": "let ModbusMem = global.get('ModbusMem')\n\nif ((ModbusMem[26] - ModbusMem[4]) <= ModbusMem[25])\n{\n    global.set('error_message', '蓋印頭數量不足');\n    msg = null;\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 80,
        "wires": [
            [
                "360f7a46ef087b2a",
                "553b53062e730993",
                "7373079e3be7e446",
                "0b558b903839e366"
            ]
        ]
    },
    {
        "id": "0b558b903839e366",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "扣蓋印頭次數",
        "func": "let ModbusMem = global.get('ModbusMem')\n\nlet val = ModbusMem[26] - ModbusMem[4]\n\nmsg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 26, 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 260,
        "wires": [
            [
                "0c5171740c129099"
            ]
        ]
    },
    {
        "id": "2d962ecebab99bb1",
        "type": "ui_text",
        "z": "bcd1d87a6c8855b3",
        "group": "c5c63a09432b4014",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "生產訊息:",
        "format": "{{msg.payload}}",
        "layout": "row-left",
        "className": "",
        "style": true,
        "font": "",
        "fontSize": 16,
        "color": "#ff0000",
        "x": 520,
        "y": 360,
        "wires": []
    },
    {
        "id": "59aefe18072f2c3a",
        "type": "inject",
        "z": "bcd1d87a6c8855b3",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 360,
        "wires": [
            [
                "337534a3a7534122"
            ]
        ]
    },
    {
        "id": "337534a3a7534122",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "error message",
        "func": "msg.payload = global.get('error_message');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 360,
        "wires": [
            [
                "2d962ecebab99bb1"
            ]
        ]
    },
    {
        "id": "15512e7ef50c1c42",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "判斷是否為全自動生產 ",
        "func": "global.set('auto', msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "ae34a879bc2303bf",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "Check Auto",
        "func": "if (global.get('auto') == false)\n{\n    msg = null;\n}\nelse\n{\n    if (global.get('ModbusMem')[0] > 0)\n    {\n        msg.payload = 'start';\n    }\n    else \n    {\n        null;\n    }\n    \n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1590,
        "y": 400,
        "wires": [
            [
                "4dd08ba5e1c7b295"
            ]
        ]
    },
    {
        "id": "4c224941bb5f3d58",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "Check Auto Process Time 30 second",
        "func": "if (global.get('auto'))\n{\n    if (global.get('check_process_time')) {\n        if (msg.payload > 30) {\n            global.set('check_process_time', false);\n        }\n        else {\n            msg = null;\n        }\n    }\n    else {\n        msg = null;\n    }\n}\nelse {\n    msg = null;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1610,
        "y": 300,
        "wires": [
            [
                "fffcddb2cb06f13c"
            ]
        ]
    },
    {
        "id": "41b6223af61e0371",
        "type": "inject",
        "z": "bcd1d87a6c8855b3",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 110,
        "y": 260,
        "wires": [
            [
                "12ea8633a164abe2"
            ]
        ]
    },
    {
        "id": "f253d4b9269ff469",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "function 2",
        "func": "msg.payload = false;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 480,
        "wires": [
            [
                "3b552f9585ad2642",
                "12ea8633a164abe2"
            ]
        ]
    },
    {
        "id": "3b552f9585ad2642",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "根據檢測結果，異動不良品累計或良品累計",
        "func": "\nglobal.set('break_timer', 1);\nglobal.set('intervalSeconds', 0);\nlet aoi = global.get('aoi');\nif (aoi) {\n    let val = global.get(\"address_6\");\n    val += 1\n    msg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 6, 'quantity': 1 };\n} else {\n    let val = global.get(\"address_7\");\n    val += 1\n    msg.payload = { value: val, 'fc': 6, 'unitid': 1, 'address': 7, 'quantity': 1 };\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 910,
        "y": 480,
        "wires": [
            [
                "d49cc1ac1f87fe4d"
            ]
        ]
    },
    {
        "id": "047e1015841e952b",
        "type": "inject",
        "z": "bcd1d87a6c8855b3",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1570,
        "y": 220,
        "wires": [
            [
                "e73a0ba6eb9c135a"
            ]
        ]
    },
    {
        "id": "7c7428a42ce18b9d",
        "type": "modbus-flex-write",
        "z": "bcd1d87a6c8855b3",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "352955bb.be6e6a",
        "emptyMsgOnFail": true,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 2270,
        "y": 480,
        "wires": [
            [],
            [
                "93f991d8a513c421"
            ]
        ]
    },
    {
        "id": "93f991d8a513c421",
        "type": "modbus-response",
        "z": "bcd1d87a6c8855b3",
        "name": "",
        "registerShowMax": 20,
        "x": 2470,
        "y": 480,
        "wires": []
    },
    {
        "id": "a7235844066f9508",
        "type": "function",
        "z": "bcd1d87a6c8855b3",
        "name": "寫入加工時間到Modbus",
        "func": "msg.payload = { value: msg.payload, 'fc': 6, 'unitid': 1, 'address': 2 , 'quantity': 1 };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2190,
        "y": 240,
        "wires": [
            [
                "7c7428a42ce18b9d"
            ]
        ]
    }
]